{"remainingRequest":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/thread-loader/dist/cjs.js!/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/babel-loader/lib/index.js!/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/src/vuedraggable.js","dependencies":[{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/src/vuedraggable.js","mtime":1635432551944},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL1VzZXJzL3FpdXNodW5xdW4vRGVza3RvcC9cdTVDMDRcdTdCQURcdTVDMDhcdTY4NDgvR2l0SHViLzE3c29vb28vMTdzb29vby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL3FpdXNodW5xdW4vRGVza3RvcC9cdTVDMDRcdTdCQURcdTVDMDhcdTY4NDgvR2l0SHViLzE3c29vb28vMTdzb29vby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgU29ydGFibGUgZnJvbSAic29ydGFibGVqcyI7CmltcG9ydCB7IGluc2VydE5vZGVBdCwgY2FtZWxpemUsIGNvbnNvbGUsIHJlbW92ZU5vZGUgfSBmcm9tICIuL3V0aWwvaGVscGVyIjsKCmZ1bmN0aW9uIGJ1aWxkQXR0cmlidXRlKG9iamVjdCwgcHJvcE5hbWUsIHZhbHVlKSB7CiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgIHJldHVybiBvYmplY3Q7CiAgfQoKICBvYmplY3QgPSBvYmplY3QgfHwge307CiAgb2JqZWN0W3Byb3BOYW1lXSA9IHZhbHVlOwogIHJldHVybiBvYmplY3Q7Cn0KCmZ1bmN0aW9uIGNvbXB1dGVWbUluZGV4KHZub2RlcywgZWxlbWVudCkgewogIHJldHVybiB2bm9kZXMubWFwKGZ1bmN0aW9uIChlbHQpIHsKICAgIHJldHVybiBlbHQuZWxtOwogIH0pLmluZGV4T2YoZWxlbWVudCk7Cn0KCmZ1bmN0aW9uIF9jb21wdXRlSW5kZXhlcyhzbG90cywgY2hpbGRyZW4sIGlzVHJhbnNpdGlvbiwgZm9vdGVyT2Zmc2V0KSB7CiAgaWYgKCFzbG90cykgewogICAgcmV0dXJuIFtdOwogIH0KCiAgdmFyIGVsbUZyb21Ob2RlcyA9IHNsb3RzLm1hcChmdW5jdGlvbiAoZWx0KSB7CiAgICByZXR1cm4gZWx0LmVsbTsKICB9KTsKICB2YXIgZm9vdGVySW5kZXggPSBjaGlsZHJlbi5sZW5ndGggLSBmb290ZXJPZmZzZXQ7CgogIHZhciByYXdJbmRleGVzID0gX3RvQ29uc3VtYWJsZUFycmF5KGNoaWxkcmVuKS5tYXAoZnVuY3Rpb24gKGVsdCwgaWR4KSB7CiAgICByZXR1cm4gaWR4ID49IGZvb3RlckluZGV4ID8gZWxtRnJvbU5vZGVzLmxlbmd0aCA6IGVsbUZyb21Ob2Rlcy5pbmRleE9mKGVsdCk7CiAgfSk7CgogIHJldHVybiBpc1RyYW5zaXRpb24gPyByYXdJbmRleGVzLmZpbHRlcihmdW5jdGlvbiAoaW5kKSB7CiAgICByZXR1cm4gaW5kICE9PSAtMTsKICB9KSA6IHJhd0luZGV4ZXM7Cn0KCmZ1bmN0aW9uIGVtaXQoZXZ0TmFtZSwgZXZ0RGF0YSkgewogIHZhciBfdGhpcyA9IHRoaXM7CgogIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBfdGhpcy4kZW1pdChldnROYW1lLnRvTG93ZXJDYXNlKCksIGV2dERhdGEpOwogIH0pOwp9CgpmdW5jdGlvbiBkZWxlZ2F0ZUFuZEVtaXQoZXZ0TmFtZSkgewogIHZhciBfdGhpczIgPSB0aGlzOwoKICByZXR1cm4gZnVuY3Rpb24gKGV2dERhdGEpIHsKICAgIGlmIChfdGhpczIucmVhbExpc3QgIT09IG51bGwpIHsKICAgICAgX3RoaXMyWyJvbkRyYWciICsgZXZ0TmFtZV0oZXZ0RGF0YSk7CiAgICB9CgogICAgZW1pdC5jYWxsKF90aGlzMiwgZXZ0TmFtZSwgZXZ0RGF0YSk7CiAgfTsKfQoKZnVuY3Rpb24gaXNUcmFuc2l0aW9uTmFtZShuYW1lKSB7CiAgcmV0dXJuIFsidHJhbnNpdGlvbi1ncm91cCIsICJUcmFuc2l0aW9uR3JvdXAiXS5pbmNsdWRlcyhuYW1lKTsKfQoKZnVuY3Rpb24gaXNUcmFuc2l0aW9uKHNsb3RzKSB7CiAgaWYgKCFzbG90cyB8fCBzbG90cy5sZW5ndGggIT09IDEpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHZhciBfc2xvdHMgPSBfc2xpY2VkVG9BcnJheShzbG90cywgMSksCiAgICAgIGNvbXBvbmVudE9wdGlvbnMgPSBfc2xvdHNbMF0uY29tcG9uZW50T3B0aW9uczsKCiAgaWYgKCFjb21wb25lbnRPcHRpb25zKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICByZXR1cm4gaXNUcmFuc2l0aW9uTmFtZShjb21wb25lbnRPcHRpb25zLnRhZyk7Cn0KCmZ1bmN0aW9uIGdldFNsb3Qoc2xvdCwgc2NvcGVkU2xvdCwga2V5KSB7CiAgcmV0dXJuIHNsb3Rba2V5XSB8fCAoc2NvcGVkU2xvdFtrZXldID8gc2NvcGVkU2xvdFtrZXldKCkgOiB1bmRlZmluZWQpOwp9CgpmdW5jdGlvbiBjb21wdXRlQ2hpbGRyZW5BbmRPZmZzZXRzKGNoaWxkcmVuLCBzbG90LCBzY29wZWRTbG90KSB7CiAgdmFyIGhlYWRlck9mZnNldCA9IDA7CiAgdmFyIGZvb3Rlck9mZnNldCA9IDA7CiAgdmFyIGhlYWRlciA9IGdldFNsb3Qoc2xvdCwgc2NvcGVkU2xvdCwgImhlYWRlciIpOwoKICBpZiAoaGVhZGVyKSB7CiAgICBoZWFkZXJPZmZzZXQgPSBoZWFkZXIubGVuZ3RoOwogICAgY2hpbGRyZW4gPSBjaGlsZHJlbiA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoaGVhZGVyKSwgX3RvQ29uc3VtYWJsZUFycmF5KGNoaWxkcmVuKSkgOiBfdG9Db25zdW1hYmxlQXJyYXkoaGVhZGVyKTsKICB9CgogIHZhciBmb290ZXIgPSBnZXRTbG90KHNsb3QsIHNjb3BlZFNsb3QsICJmb290ZXIiKTsKCiAgaWYgKGZvb3RlcikgewogICAgZm9vdGVyT2Zmc2V0ID0gZm9vdGVyLmxlbmd0aDsKICAgIGNoaWxkcmVuID0gY2hpbGRyZW4gPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGNoaWxkcmVuKSwgX3RvQ29uc3VtYWJsZUFycmF5KGZvb3RlcikpIDogX3RvQ29uc3VtYWJsZUFycmF5KGZvb3Rlcik7CiAgfQoKICByZXR1cm4gewogICAgY2hpbGRyZW46IGNoaWxkcmVuLAogICAgaGVhZGVyT2Zmc2V0OiBoZWFkZXJPZmZzZXQsCiAgICBmb290ZXJPZmZzZXQ6IGZvb3Rlck9mZnNldAogIH07Cn0KCmZ1bmN0aW9uIGdldENvbXBvbmVudEF0dHJpYnV0ZXMoJGF0dHJzLCBjb21wb25lbnREYXRhKSB7CiAgdmFyIGF0dHJpYnV0ZXMgPSBudWxsOwoKICB2YXIgdXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKG5hbWUsIHZhbHVlKSB7CiAgICBhdHRyaWJ1dGVzID0gYnVpbGRBdHRyaWJ1dGUoYXR0cmlidXRlcywgbmFtZSwgdmFsdWUpOwogIH07CgogIHZhciBhdHRycyA9IE9iamVjdC5rZXlzKCRhdHRycykuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsKICAgIHJldHVybiBrZXkgPT09ICJpZCIgfHwga2V5LnN0YXJ0c1dpdGgoImRhdGEtIik7CiAgfSkucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGtleSkgewogICAgcmVzW2tleV0gPSAkYXR0cnNba2V5XTsKICAgIHJldHVybiByZXM7CiAgfSwge30pOwogIHVwZGF0ZSgiYXR0cnMiLCBhdHRycyk7CgogIGlmICghY29tcG9uZW50RGF0YSkgewogICAgcmV0dXJuIGF0dHJpYnV0ZXM7CiAgfQoKICB2YXIgb24gPSBjb21wb25lbnREYXRhLm9uLAogICAgICBwcm9wcyA9IGNvbXBvbmVudERhdGEucHJvcHMsCiAgICAgIGNvbXBvbmVudERhdGFBdHRycyA9IGNvbXBvbmVudERhdGEuYXR0cnM7CiAgdXBkYXRlKCJvbiIsIG9uKTsKICB1cGRhdGUoInByb3BzIiwgcHJvcHMpOwogIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcy5hdHRycywgY29tcG9uZW50RGF0YUF0dHJzKTsKICByZXR1cm4gYXR0cmlidXRlczsKfQoKdmFyIGV2ZW50c0xpc3RlbmVkID0gWyJTdGFydCIsICJBZGQiLCAiUmVtb3ZlIiwgIlVwZGF0ZSIsICJFbmQiXTsKdmFyIGV2ZW50c1RvRW1pdCA9IFsiQ2hvb3NlIiwgIlVuY2hvb3NlIiwgIlNvcnQiLCAiRmlsdGVyIiwgIkNsb25lIl07CnZhciByZWFkb25seVByb3BlcnRpZXMgPSBbIk1vdmUiXS5jb25jYXQoZXZlbnRzTGlzdGVuZWQsIGV2ZW50c1RvRW1pdCkubWFwKGZ1bmN0aW9uIChldnQpIHsKICByZXR1cm4gIm9uIiArIGV2dDsKfSk7CnZhciBkcmFnZ2luZ0VsZW1lbnQgPSBudWxsOwp2YXIgcHJvcHMgPSB7CiAgb3B0aW9uczogT2JqZWN0LAogIGxpc3Q6IHsKICAgIHR5cGU6IEFycmF5LAogICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgZGVmYXVsdDogbnVsbAogIH0sCiAgdmFsdWU6IHsKICAgIHR5cGU6IEFycmF5LAogICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgZGVmYXVsdDogbnVsbAogIH0sCiAgbm9UcmFuc2l0aW9uT25EcmFnOiB7CiAgICB0eXBlOiBCb29sZWFuLAogICAgZGVmYXVsdDogZmFsc2UKICB9LAogIGNsb25lOiB7CiAgICB0eXBlOiBGdW5jdGlvbiwKICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KG9yaWdpbmFsKSB7CiAgICAgIHJldHVybiBvcmlnaW5hbDsKICAgIH0KICB9LAogIGVsZW1lbnQ6IHsKICAgIHR5cGU6IFN0cmluZywKICAgIGRlZmF1bHQ6ICJkaXYiCiAgfSwKICB0YWc6IHsKICAgIHR5cGU6IFN0cmluZywKICAgIGRlZmF1bHQ6IG51bGwKICB9LAogIG1vdmU6IHsKICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgZGVmYXVsdDogbnVsbAogIH0sCiAgY29tcG9uZW50RGF0YTogewogICAgdHlwZTogT2JqZWN0LAogICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgZGVmYXVsdDogbnVsbAogIH0KfTsKdmFyIGRyYWdnYWJsZUNvbXBvbmVudCA9IHsKICBuYW1lOiAiZHJhZ2dhYmxlIiwKICBpbmhlcml0QXR0cnM6IGZhbHNlLAogIHByb3BzOiBwcm9wcywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdHJhbnNpdGlvbk1vZGU6IGZhbHNlLAogICAgICBub25lRnVuY3Rpb25hbENvbXBvbmVudE1vZGU6IGZhbHNlCiAgICB9OwogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgdmFyIHNsb3RzID0gdGhpcy4kc2xvdHMuZGVmYXVsdDsKICAgIHRoaXMudHJhbnNpdGlvbk1vZGUgPSBpc1RyYW5zaXRpb24oc2xvdHMpOwoKICAgIHZhciBfY29tcHV0ZUNoaWxkcmVuQW5kT2YgPSBjb21wdXRlQ2hpbGRyZW5BbmRPZmZzZXRzKHNsb3RzLCB0aGlzLiRzbG90cywgdGhpcy4kc2NvcGVkU2xvdHMpLAogICAgICAgIGNoaWxkcmVuID0gX2NvbXB1dGVDaGlsZHJlbkFuZE9mLmNoaWxkcmVuLAogICAgICAgIGhlYWRlck9mZnNldCA9IF9jb21wdXRlQ2hpbGRyZW5BbmRPZi5oZWFkZXJPZmZzZXQsCiAgICAgICAgZm9vdGVyT2Zmc2V0ID0gX2NvbXB1dGVDaGlsZHJlbkFuZE9mLmZvb3Rlck9mZnNldDsKCiAgICB0aGlzLmhlYWRlck9mZnNldCA9IGhlYWRlck9mZnNldDsKICAgIHRoaXMuZm9vdGVyT2Zmc2V0ID0gZm9vdGVyT2Zmc2V0OwogICAgdmFyIGF0dHJpYnV0ZXMgPSBnZXRDb21wb25lbnRBdHRyaWJ1dGVzKHRoaXMuJGF0dHJzLCB0aGlzLmNvbXBvbmVudERhdGEpOwogICAgcmV0dXJuIGgodGhpcy5nZXRUYWcoKSwgYXR0cmlidXRlcywgY2hpbGRyZW4pOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmxpc3QgIT09IG51bGwgJiYgdGhpcy52YWx1ZSAhPT0gbnVsbCkgewogICAgICBjb25zb2xlLmVycm9yKCJWYWx1ZSBhbmQgbGlzdCBwcm9wcyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlISBQbGVhc2Ugc2V0IG9uZSBvciBhbm90aGVyLiIpOwogICAgfQoKICAgIGlmICh0aGlzLmVsZW1lbnQgIT09ICJkaXYiKSB7CiAgICAgIGNvbnNvbGUud2FybigiRWxlbWVudCBwcm9wcyBpcyBkZXByZWNhdGVkIHBsZWFzZSB1c2UgdGFnIHByb3BzIGluc3RlYWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vU29ydGFibGVKUy9WdWUuRHJhZ2dhYmxlL2Jsb2IvbWFzdGVyL2RvY3VtZW50YXRpb24vbWlncmF0ZS5tZCNlbGVtZW50LXByb3BzIik7CiAgICB9CgogICAgaWYgKHRoaXMub3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGNvbnNvbGUud2FybigiT3B0aW9ucyBwcm9wcyBpcyBkZXByZWNhdGVkLCBhZGQgc29ydGFibGUgb3B0aW9ucyBkaXJlY3RseSBhcyB2dWUuZHJhZ2dhYmxlIGl0ZW0sIG9yIHVzZSB2LWJpbmQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vU29ydGFibGVKUy9WdWUuRHJhZ2dhYmxlL2Jsb2IvbWFzdGVyL2RvY3VtZW50YXRpb24vbWlncmF0ZS5tZCNvcHRpb25zLXByb3BzIik7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdGhpcy5ub25lRnVuY3Rpb25hbENvbXBvbmVudE1vZGUgPSB0aGlzLmdldFRhZygpLnRvTG93ZXJDYXNlKCkgIT09IHRoaXMuJGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgJiYgIXRoaXMuZ2V0SXNGdW5jdGlvbmFsKCk7CgogICAgaWYgKHRoaXMubm9uZUZ1bmN0aW9uYWxDb21wb25lbnRNb2RlICYmIHRoaXMudHJhbnNpdGlvbk1vZGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJUcmFuc2l0aW9uLWdyb3VwIGluc2lkZSBjb21wb25lbnQgaXMgbm90IHN1cHBvcnRlZC4gUGxlYXNlIGFsdGVyIHRhZyB2YWx1ZSBvciByZW1vdmUgdHJhbnNpdGlvbi1ncm91cC4gQ3VycmVudCB0YWcgdmFsdWU6ICIuY29uY2F0KHRoaXMuZ2V0VGFnKCkpKTsKICAgIH0KCiAgICB2YXIgb3B0aW9uc0FkZGVkID0ge307CiAgICBldmVudHNMaXN0ZW5lZC5mb3JFYWNoKGZ1bmN0aW9uIChlbHQpIHsKICAgICAgb3B0aW9uc0FkZGVkWyJvbiIgKyBlbHRdID0gZGVsZWdhdGVBbmRFbWl0LmNhbGwoX3RoaXMzLCBlbHQpOwogICAgfSk7CiAgICBldmVudHNUb0VtaXQuZm9yRWFjaChmdW5jdGlvbiAoZWx0KSB7CiAgICAgIG9wdGlvbnNBZGRlZFsib24iICsgZWx0XSA9IGVtaXQuYmluZChfdGhpczMsIGVsdCk7CiAgICB9KTsKICAgIHZhciBhdHRyaWJ1dGVzID0gT2JqZWN0LmtleXModGhpcy4kYXR0cnMpLnJlZHVjZShmdW5jdGlvbiAocmVzLCBrZXkpIHsKICAgICAgcmVzW2NhbWVsaXplKGtleSldID0gX3RoaXMzLiRhdHRyc1trZXldOwogICAgICByZXR1cm4gcmVzOwogICAgfSwge30pOwogICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIGF0dHJpYnV0ZXMsIG9wdGlvbnNBZGRlZCwgewogICAgICBvbk1vdmU6IGZ1bmN0aW9uIG9uTW92ZShldnQsIG9yaWdpbmFsRXZlbnQpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLm9uRHJhZ01vdmUoZXZ0LCBvcmlnaW5hbEV2ZW50KTsKICAgICAgfQogICAgfSk7CiAgICAhKCJkcmFnZ2FibGUiIGluIG9wdGlvbnMpICYmIChvcHRpb25zLmRyYWdnYWJsZSA9ICI+KiIpOwogICAgdGhpcy5fc29ydGFibGUgPSBuZXcgU29ydGFibGUodGhpcy5yb290Q29udGFpbmVyLCBvcHRpb25zKTsKICAgIHRoaXMuY29tcHV0ZUluZGV4ZXMoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAodGhpcy5fc29ydGFibGUgIT09IHVuZGVmaW5lZCkgdGhpcy5fc29ydGFibGUuZGVzdHJveSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJvb3RDb250YWluZXI6IGZ1bmN0aW9uIHJvb3RDb250YWluZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25Nb2RlID8gdGhpcy4kZWwuY2hpbGRyZW5bMF0gOiB0aGlzLiRlbDsKICAgIH0sCiAgICByZWFsTGlzdDogZnVuY3Rpb24gcmVhbExpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLmxpc3QgPyB0aGlzLmxpc3QgOiB0aGlzLnZhbHVlOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG9wdGlvbnM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdPcHRpb25WYWx1ZSkgewogICAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyhuZXdPcHRpb25WYWx1ZSk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0sCiAgICAkYXR0cnM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdPcHRpb25WYWx1ZSkgewogICAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyhuZXdPcHRpb25WYWx1ZSk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0sCiAgICByZWFsTGlzdDogZnVuY3Rpb24gcmVhbExpc3QoKSB7CiAgICAgIHRoaXMuY29tcHV0ZUluZGV4ZXMoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldElzRnVuY3Rpb25hbDogZnVuY3Rpb24gZ2V0SXNGdW5jdGlvbmFsKCkgewogICAgICB2YXIgZm5PcHRpb25zID0gdGhpcy5fdm5vZGUuZm5PcHRpb25zOwogICAgICByZXR1cm4gZm5PcHRpb25zICYmIGZuT3B0aW9ucy5mdW5jdGlvbmFsOwogICAgfSwKICAgIGdldFRhZzogZnVuY3Rpb24gZ2V0VGFnKCkgewogICAgICByZXR1cm4gdGhpcy50YWcgfHwgdGhpcy5lbGVtZW50OwogICAgfSwKICAgIHVwZGF0ZU9wdGlvbnM6IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMobmV3T3B0aW9uVmFsdWUpIHsKICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gbmV3T3B0aW9uVmFsdWUpIHsKICAgICAgICB2YXIgdmFsdWUgPSBjYW1lbGl6ZShwcm9wZXJ0eSk7CgogICAgICAgIGlmIChyZWFkb25seVByb3BlcnRpZXMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7CiAgICAgICAgICB0aGlzLl9zb3J0YWJsZS5vcHRpb24odmFsdWUsIG5ld09wdGlvblZhbHVlW3Byb3BlcnR5XSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0Q2hpbGRyZW5Ob2RlczogZnVuY3Rpb24gZ2V0Q2hpbGRyZW5Ob2RlcygpIHsKICAgICAgaWYgKHRoaXMubm9uZUZ1bmN0aW9uYWxDb21wb25lbnRNb2RlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGNoaWxkcmVuWzBdLiRzbG90cy5kZWZhdWx0OwogICAgICB9CgogICAgICB2YXIgcmF3Tm9kZXMgPSB0aGlzLiRzbG90cy5kZWZhdWx0OwogICAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uTW9kZSA/IHJhd05vZGVzWzBdLmNoaWxkLiRzbG90cy5kZWZhdWx0IDogcmF3Tm9kZXM7CiAgICB9LAogICAgY29tcHV0ZUluZGV4ZXM6IGZ1bmN0aW9uIGNvbXB1dGVJbmRleGVzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQudmlzaWJsZUluZGV4ZXMgPSBfY29tcHV0ZUluZGV4ZXMoX3RoaXM0LmdldENoaWxkcmVuTm9kZXMoKSwgX3RoaXM0LnJvb3RDb250YWluZXIuY2hpbGRyZW4sIF90aGlzNC50cmFuc2l0aW9uTW9kZSwgX3RoaXM0LmZvb3Rlck9mZnNldCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVuZGVybHlpbmdWbTogZnVuY3Rpb24gZ2V0VW5kZXJseWluZ1ZtKGh0bWxFbHQpIHsKICAgICAgdmFyIGluZGV4ID0gY29tcHV0ZVZtSW5kZXgodGhpcy5nZXRDaGlsZHJlbk5vZGVzKCkgfHwgW10sIGh0bWxFbHQpOwoKICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgIC8vRWRnZSBjYXNlIGR1cmluZyBtb3ZlIGNhbGxiYWNrOiByZWxhdGVkIGVsZW1lbnQgbWlnaHQgYmUKICAgICAgICAvL2FuIGVsZW1lbnQgZGlmZmVyZW50IGZyb20gY29sbGVjdGlvbgogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgZWxlbWVudCA9IHRoaXMucmVhbExpc3RbaW5kZXhdOwogICAgICByZXR1cm4gewogICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICBlbGVtZW50OiBlbGVtZW50CiAgICAgIH07CiAgICB9LAogICAgZ2V0VW5kZXJseWluZ1BvdGVuY2lhbERyYWdnYWJsZUNvbXBvbmVudDogZnVuY3Rpb24gZ2V0VW5kZXJseWluZ1BvdGVuY2lhbERyYWdnYWJsZUNvbXBvbmVudChfcmVmKSB7CiAgICAgIHZhciB2dWUgPSBfcmVmLl9fdnVlX187CgogICAgICBpZiAoIXZ1ZSB8fCAhdnVlLiRvcHRpb25zIHx8ICFpc1RyYW5zaXRpb25OYW1lKHZ1ZS4kb3B0aW9ucy5fY29tcG9uZW50VGFnKSkgewogICAgICAgIGlmICghKCJyZWFsTGlzdCIgaW4gdnVlKSAmJiB2dWUuJGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiAicmVhbExpc3QiIGluIHZ1ZS4kY2hpbGRyZW5bMF0pIHJldHVybiB2dWUuJGNoaWxkcmVuWzBdOwogICAgICAgIHJldHVybiB2dWU7CiAgICAgIH0KCiAgICAgIHJldHVybiB2dWUuJHBhcmVudDsKICAgIH0sCiAgICBlbWl0Q2hhbmdlczogZnVuY3Rpb24gZW1pdENoYW5nZXMoZXZ0KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kZW1pdCgiY2hhbmdlIiwgZXZ0KTsKICAgICAgfSk7CiAgICB9LAogICAgYWx0ZXJMaXN0OiBmdW5jdGlvbiBhbHRlckxpc3Qob25MaXN0KSB7CiAgICAgIGlmICh0aGlzLmxpc3QpIHsKICAgICAgICBvbkxpc3QodGhpcy5saXN0KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBuZXdMaXN0ID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMudmFsdWUpOwoKICAgICAgb25MaXN0KG5ld0xpc3QpOwogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIG5ld0xpc3QpOwogICAgfSwKICAgIHNwbGljZUxpc3Q6IGZ1bmN0aW9uIHNwbGljZUxpc3QoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwoKICAgICAgdmFyIHNwbGljZUxpc3QgPSBmdW5jdGlvbiBzcGxpY2VMaXN0KGxpc3QpIHsKICAgICAgICByZXR1cm4gbGlzdC5zcGxpY2UuYXBwbHkobGlzdCwgX3RvQ29uc3VtYWJsZUFycmF5KF9hcmd1bWVudHMpKTsKICAgICAgfTsKCiAgICAgIHRoaXMuYWx0ZXJMaXN0KHNwbGljZUxpc3QpOwogICAgfSwKICAgIHVwZGF0ZVBvc2l0aW9uOiBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihvbGRJbmRleCwgbmV3SW5kZXgpIHsKICAgICAgdmFyIHVwZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24obGlzdCkgewogICAgICAgIHJldHVybiBsaXN0LnNwbGljZShuZXdJbmRleCwgMCwgbGlzdC5zcGxpY2Uob2xkSW5kZXgsIDEpWzBdKTsKICAgICAgfTsKCiAgICAgIHRoaXMuYWx0ZXJMaXN0KHVwZGF0ZVBvc2l0aW9uKTsKICAgIH0sCiAgICBnZXRSZWxhdGVkQ29udGV4dEZyb21Nb3ZlRXZlbnQ6IGZ1bmN0aW9uIGdldFJlbGF0ZWRDb250ZXh0RnJvbU1vdmVFdmVudChfcmVmMikgewogICAgICB2YXIgdG8gPSBfcmVmMi50bywKICAgICAgICAgIHJlbGF0ZWQgPSBfcmVmMi5yZWxhdGVkOwogICAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5nZXRVbmRlcmx5aW5nUG90ZW5jaWFsRHJhZ2dhYmxlQ29tcG9uZW50KHRvKTsKCiAgICAgIGlmICghY29tcG9uZW50KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGNvbXBvbmVudDogY29tcG9uZW50CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIGxpc3QgPSBjb21wb25lbnQucmVhbExpc3Q7CiAgICAgIHZhciBjb250ZXh0ID0gewogICAgICAgIGxpc3Q6IGxpc3QsCiAgICAgICAgY29tcG9uZW50OiBjb21wb25lbnQKICAgICAgfTsKCiAgICAgIGlmICh0byAhPT0gcmVsYXRlZCAmJiBsaXN0ICYmIGNvbXBvbmVudC5nZXRVbmRlcmx5aW5nVm0pIHsKICAgICAgICB2YXIgZGVzdGluYXRpb24gPSBjb21wb25lbnQuZ2V0VW5kZXJseWluZ1ZtKHJlbGF0ZWQpOwoKICAgICAgICBpZiAoZGVzdGluYXRpb24pIHsKICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGRlc3RpbmF0aW9uLCBjb250ZXh0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBjb250ZXh0OwogICAgfSwKICAgIGdldFZtSW5kZXg6IGZ1bmN0aW9uIGdldFZtSW5kZXgoZG9tSW5kZXgpIHsKICAgICAgdmFyIGluZGV4ZXMgPSB0aGlzLnZpc2libGVJbmRleGVzOwogICAgICB2YXIgbnVtYmVySW5kZXhlcyA9IGluZGV4ZXMubGVuZ3RoOwogICAgICByZXR1cm4gZG9tSW5kZXggPiBudW1iZXJJbmRleGVzIC0gMSA/IG51bWJlckluZGV4ZXMgOiBpbmRleGVzW2RvbUluZGV4XTsKICAgIH0sCiAgICBnZXRDb21wb25lbnQ6IGZ1bmN0aW9uIGdldENvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHNsb3RzLmRlZmF1bHRbMF0uY29tcG9uZW50SW5zdGFuY2U7CiAgICB9LAogICAgcmVzZXRUcmFuc2l0aW9uRGF0YTogZnVuY3Rpb24gcmVzZXRUcmFuc2l0aW9uRGF0YShpbmRleCkgewogICAgICBpZiAoIXRoaXMubm9UcmFuc2l0aW9uT25EcmFnIHx8ICF0aGlzLnRyYW5zaXRpb25Nb2RlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgbm9kZXMgPSB0aGlzLmdldENoaWxkcmVuTm9kZXMoKTsKICAgICAgbm9kZXNbaW5kZXhdLmRhdGEgPSBudWxsOwogICAgICB2YXIgdHJhbnNpdGlvbkNvbnRhaW5lciA9IHRoaXMuZ2V0Q29tcG9uZW50KCk7CiAgICAgIHRyYW5zaXRpb25Db250YWluZXIuY2hpbGRyZW4gPSBbXTsKICAgICAgdHJhbnNpdGlvbkNvbnRhaW5lci5rZXB0ID0gdW5kZWZpbmVkOwogICAgfSwKICAgIG9uRHJhZ1N0YXJ0OiBmdW5jdGlvbiBvbkRyYWdTdGFydChldnQpIHsKICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5nZXRVbmRlcmx5aW5nVm0oZXZ0Lml0ZW0pOwogICAgICBldnQuaXRlbS5fdW5kZXJseWluZ192bV8gPSB0aGlzLmNsb25lKHRoaXMuY29udGV4dC5lbGVtZW50KTsKICAgICAgZHJhZ2dpbmdFbGVtZW50ID0gZXZ0Lml0ZW07CiAgICB9LAogICAgb25EcmFnQWRkOiBmdW5jdGlvbiBvbkRyYWdBZGQoZXZ0KSB7CiAgICAgIHZhciBlbGVtZW50ID0gZXZ0Lml0ZW0uX3VuZGVybHlpbmdfdm1fOwoKICAgICAgaWYgKGVsZW1lbnQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgcmVtb3ZlTm9kZShldnQuaXRlbSk7CiAgICAgIHZhciBuZXdJbmRleCA9IHRoaXMuZ2V0Vm1JbmRleChldnQubmV3SW5kZXgpOwogICAgICB0aGlzLnNwbGljZUxpc3QobmV3SW5kZXgsIDAsIGVsZW1lbnQpOwogICAgICB0aGlzLmNvbXB1dGVJbmRleGVzKCk7CiAgICAgIHZhciBhZGRlZCA9IHsKICAgICAgICBlbGVtZW50OiBlbGVtZW50LAogICAgICAgIG5ld0luZGV4OiBuZXdJbmRleAogICAgICB9OwogICAgICB0aGlzLmVtaXRDaGFuZ2VzKHsKICAgICAgICBhZGRlZDogYWRkZWQKICAgICAgfSk7CiAgICB9LAogICAgb25EcmFnUmVtb3ZlOiBmdW5jdGlvbiBvbkRyYWdSZW1vdmUoZXZ0KSB7CiAgICAgIGluc2VydE5vZGVBdCh0aGlzLnJvb3RDb250YWluZXIsIGV2dC5pdGVtLCBldnQub2xkSW5kZXgpOwoKICAgICAgaWYgKGV2dC5wdWxsTW9kZSA9PT0gImNsb25lIikgewogICAgICAgIHJlbW92ZU5vZGUoZXZ0LmNsb25lKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBvbGRJbmRleCA9IHRoaXMuY29udGV4dC5pbmRleDsKICAgICAgdGhpcy5zcGxpY2VMaXN0KG9sZEluZGV4LCAxKTsKICAgICAgdmFyIHJlbW92ZWQgPSB7CiAgICAgICAgZWxlbWVudDogdGhpcy5jb250ZXh0LmVsZW1lbnQsCiAgICAgICAgb2xkSW5kZXg6IG9sZEluZGV4CiAgICAgIH07CiAgICAgIHRoaXMucmVzZXRUcmFuc2l0aW9uRGF0YShvbGRJbmRleCk7CiAgICAgIHRoaXMuZW1pdENoYW5nZXMoewogICAgICAgIHJlbW92ZWQ6IHJlbW92ZWQKICAgICAgfSk7CiAgICB9LAogICAgb25EcmFnVXBkYXRlOiBmdW5jdGlvbiBvbkRyYWdVcGRhdGUoZXZ0KSB7CiAgICAgIHJlbW92ZU5vZGUoZXZ0Lml0ZW0pOwogICAgICBpbnNlcnROb2RlQXQoZXZ0LmZyb20sIGV2dC5pdGVtLCBldnQub2xkSW5kZXgpOwogICAgICB2YXIgb2xkSW5kZXggPSB0aGlzLmNvbnRleHQuaW5kZXg7CiAgICAgIHZhciBuZXdJbmRleCA9IHRoaXMuZ2V0Vm1JbmRleChldnQubmV3SW5kZXgpOwogICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKG9sZEluZGV4LCBuZXdJbmRleCk7CiAgICAgIHZhciBtb3ZlZCA9IHsKICAgICAgICBlbGVtZW50OiB0aGlzLmNvbnRleHQuZWxlbWVudCwKICAgICAgICBvbGRJbmRleDogb2xkSW5kZXgsCiAgICAgICAgbmV3SW5kZXg6IG5ld0luZGV4CiAgICAgIH07CiAgICAgIHRoaXMuZW1pdENoYW5nZXMoewogICAgICAgIG1vdmVkOiBtb3ZlZAogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVQcm9wZXJ0eTogZnVuY3Rpb24gdXBkYXRlUHJvcGVydHkoZXZ0LCBwcm9wZXJ0eU5hbWUpIHsKICAgICAgZXZ0Lmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSkgJiYgKGV2dFtwcm9wZXJ0eU5hbWVdICs9IHRoaXMuaGVhZGVyT2Zmc2V0KTsKICAgIH0sCiAgICBjb21wdXRlRnV0dXJlSW5kZXg6IGZ1bmN0aW9uIGNvbXB1dGVGdXR1cmVJbmRleChyZWxhdGVkQ29udGV4dCwgZXZ0KSB7CiAgICAgIGlmICghcmVsYXRlZENvbnRleHQuZWxlbWVudCkgewogICAgICAgIHJldHVybiAwOwogICAgICB9CgogICAgICB2YXIgZG9tQ2hpbGRyZW4gPSBfdG9Db25zdW1hYmxlQXJyYXkoZXZ0LnRvLmNoaWxkcmVuKS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLnN0eWxlWyJkaXNwbGF5Il0gIT09ICJub25lIjsKICAgICAgfSk7CgogICAgICB2YXIgY3VycmVudERPTUluZGV4ID0gZG9tQ2hpbGRyZW4uaW5kZXhPZihldnQucmVsYXRlZCk7CiAgICAgIHZhciBjdXJyZW50SW5kZXggPSByZWxhdGVkQ29udGV4dC5jb21wb25lbnQuZ2V0Vm1JbmRleChjdXJyZW50RE9NSW5kZXgpOwogICAgICB2YXIgZHJhZ2dlZEluTGlzdCA9IGRvbUNoaWxkcmVuLmluZGV4T2YoZHJhZ2dpbmdFbGVtZW50KSAhPT0gLTE7CiAgICAgIHJldHVybiBkcmFnZ2VkSW5MaXN0IHx8ICFldnQud2lsbEluc2VydEFmdGVyID8gY3VycmVudEluZGV4IDogY3VycmVudEluZGV4ICsgMTsKICAgIH0sCiAgICBvbkRyYWdNb3ZlOiBmdW5jdGlvbiBvbkRyYWdNb3ZlKGV2dCwgb3JpZ2luYWxFdmVudCkgewogICAgICB2YXIgb25Nb3ZlID0gdGhpcy5tb3ZlOwoKICAgICAgaWYgKCFvbk1vdmUgfHwgIXRoaXMucmVhbExpc3QpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIHJlbGF0ZWRDb250ZXh0ID0gdGhpcy5nZXRSZWxhdGVkQ29udGV4dEZyb21Nb3ZlRXZlbnQoZXZ0KTsKICAgICAgdmFyIGRyYWdnZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0OwogICAgICB2YXIgZnV0dXJlSW5kZXggPSB0aGlzLmNvbXB1dGVGdXR1cmVJbmRleChyZWxhdGVkQ29udGV4dCwgZXZ0KTsKICAgICAgT2JqZWN0LmFzc2lnbihkcmFnZ2VkQ29udGV4dCwgewogICAgICAgIGZ1dHVyZUluZGV4OiBmdXR1cmVJbmRleAogICAgICB9KTsKICAgICAgdmFyIHNlbmRFdnQgPSBPYmplY3QuYXNzaWduKHt9LCBldnQsIHsKICAgICAgICByZWxhdGVkQ29udGV4dDogcmVsYXRlZENvbnRleHQsCiAgICAgICAgZHJhZ2dlZENvbnRleHQ6IGRyYWdnZWRDb250ZXh0CiAgICAgIH0pOwogICAgICByZXR1cm4gb25Nb3ZlKHNlbmRFdnQsIG9yaWdpbmFsRXZlbnQpOwogICAgfSwKICAgIG9uRHJhZ0VuZDogZnVuY3Rpb24gb25EcmFnRW5kKCkgewogICAgICB0aGlzLmNvbXB1dGVJbmRleGVzKCk7CiAgICAgIGRyYWdnaW5nRWxlbWVudCA9IG51bGw7CiAgICB9CiAgfQp9OwoKaWYgKHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiICYmICJWdWUiIGluIHdpbmRvdykgewogIHdpbmRvdy5WdWUuY29tcG9uZW50KCJkcmFnZ2FibGUiLCBkcmFnZ2FibGVDb21wb25lbnQpOwp9CgpleHBvcnQgZGVmYXVsdCBkcmFnZ2FibGVDb21wb25lbnQ7"},null]}
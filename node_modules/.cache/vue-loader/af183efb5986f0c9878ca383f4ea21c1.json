{"remainingRequest":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/yanMieee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiushunqun/Desktop/yanMieeMie/GitHub/yanMieee/src/components/tst_List.vue?vue&type=style&index=1&lang=css&","dependencies":[{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/yanMieee/src/components/tst_List.vue","mtime":1652512520040},{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/yanMieee/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/yanMieee/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/yanMieee/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/yanMieee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/yanMieeMie/GitHub/yanMieee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5saXN0IHsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIG1heC13aWR0aDogNzUwcHg7CiAgbWFyZ2luOiBhdXRvOwp9Cg=="},{"version":3,"sources":["tst_List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsfA;AACA;AACA;AACA;AACA","file":"tst_List.vue","sourceRoot":"src/components","sourcesContent":["<template> \n\n\n<!-- pos     --- :: 題本編號  -->\n<!-- sno     --- :: 大題編號  -->\n<!-- sno_idx --- :: 中題編號  -->\n<!-- sno_dtl --- :: 小題編號  -->\n\n<!-- questype  --- :: 問題類型  -->\n<!-- question  --- :: 問題內容 :: -->\n<!-- quesopts  --- :: 問題選項 :: arry(5) -->\n<!-- quesinduc  --- :: 問題備註  -->\n<!-- quesimge  --- :: 問題說明圖  -->\n\n\n\n  <div class=\" flex justify-center  \"> \n\n    <div class=\"w-2/12 \">\n    <v-banner  \n      sticky\n    >\n<!-- grid grid-cols-5 gap-1  -->\n<div class=\"flex justify-center  \"> \n\n                 \n</div> \n\n      <download-csv\n        class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n        :data   = \"tutorials\"\n        name    = \"資料回報.csv\"\n      >下載.CSV\n      </download-csv>\n\n\n      \n      <div v-if=\"currentTutorial\">\n        <tutorial-details\n          :tutorial=\"currentTutorial\"\n          @refreshList=\"refreshList\"\n        />\n      </div>\n      \n      <div v-else>\n        <br />\n        <p>請選擇右方 題目...</p>\n\n        {{ tutorials }}\n      </div>\n      </v-banner>\n    </div>\n    \n    <div class=\"w-10/12\">  \n      <v-tabs\n            v-model=\"tab\"\n            background-color=\"primary\" \n            fixed-tabs \n          > \n          <v-tab key='k3' href='#k3' v-if=\"!hide\"  >  題庫3 </v-tab> \n          <v-tab key='k2' href='#k2' >  已答題_清單 </v-tab> \n          <v-tab key='k1' href='#k1' v-if=\"!hide\"  >   有一個測試在這邊  </v-tab>   \n          \n          \n\n           \n\n           \n      </v-tabs>  \n      <v-tabs-items v-model=\"tab\"> \n\n        <v-tab-item key='k3' value='k3'>  \n<!-- :items=\"desserts\" -->\n            <v-data-table \n              class=\"elevation-1\"\n\n              :headers=\"headers\"\n              :items=\"tutorials\"\n\n              item-key=\"patient_ID\"\n              multi-sort\n              show-select\n\n              :sort-by=\"['quiz_date','patient_ID' ]\" \n              :sort-desc=\"[true, true]\"\n              \n              :search=\"search\"\n              :custom-filter=\"filterOnlyCapsText\"\n            >\n              <template v-slot:top>\n\n                <v-row>\n                  <v-col>\n                    <v-text-field\n                    v-model=\"search\" \n                    label=\"關鍵字搜尋\"\n                    class=\"mx-4\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col>\n                    <v-text-field\n                        v-model=\"p_ID\"\n                        type=\"number\"\n                        label=\"病例號碼，過濾器\"\n                    ></v-text-field> \n                  </v-col>\n                </v-row>   \n              </template>\n\n              <template v-slot:body.append>\n                <tr> \n                  <td colspan=\"4\"></td>\n                </tr>\n              </template>\n            </v-data-table>\n          \n        </v-tab-item> \n        <v-tab-item key='k2' value='k2' >   \n          <v-row>    \n            <v-col cols=\"12\" md=\"12\"  > \n                <!-- @click=\"setActiveTutorial(tutorial, index)\" -->\n               <v-list-item-group  color=\"primary\"  >\n                <v-list-item\n                  v-for=\"(tutorial, index) in tutorials\"  \n                  :key=\"index\"   \n                >  \n                  <v-list-item-content  class=\" text-xs  py-2 pl-3 my-1 border-2 rounded-sm bg-blue-100 border-blue-300 \" >\n                  <div class=\"grid grid-cols-12 gap-0 \"> \n                               \n                                <div class=\"col-span-1 \">  \n                                  <div class=\"flex flex-col . \">\n                                    <div>\n                                       <span class=\"px-2 my-2 bg-red-500 rounded-full text-white text-lg font-black\"> \n                                      {{ tutorial.patient_ID  }} </span>\n                                     </div>\n                                    <div> <span class=\" px-2 my-2 bg-red-100 rounded-b-full text-red-900 text-xs \"> \n                                      {{ tutorial.quiz_date  }}  </span>\n                                    </div> \n                                  </div> \n                                </div> \n                                \n                                <div class=\"col-span-2\">  \n                                  <span class=\" py-2 my-2 mx-4 text-base font-normal\">  {{ tutorial.name }} \n                                    <span class=\"py-2 text-gary-200 text-xs \"> 先生/ 小姐 </span>\n                                  </span>  \n                                </div> \n                                <div class=\"col-span-6 \">  \n                                  <div class=\"flex flex-row\">  \n                                         預計顯示.得分摘要 相關內容\n                                  </div>\n                                  <div class=\"grid grid-cols-3 gap-1\">\n                                  </div> \n                                  \n                                </div>   \n \n                          <div class=\"col-start-11 col-span-1 \"> \n                            <v-btn rounded color=\"primary\" @click=\"show = !show\" >\n                              查詢.答題結果 <v-icon>{{ show ? 'mdi-chevron-up' : 'mdi-chevron-down' }}</v-icon>\n                            </v-btn> \n                        </div>\n\n                        <div class=\"col-span-12 \">\n                            <v-expand-transition>\n                            <div v-show=\"show\"> \n\n                              <v-card-text> \n\n                                  <v-chip class=\"text-white text-xs mr-5\" color=\"red\"  > \n                                    <v-list-item v-for=\"(quiz_fdbk, index) in tutorial.quiz_fdbk\" :key=\"index\"  >\n                                      {{ tutorial.quiz_fdbk[index] }}\n                                    </v-list-item> \n                                  </v-chip> \n                                <hr>\n\n                                  <v-chip class=\"text-white text-xs mr-5\" color=\"\"  > \n                                    <v-list-item v-for=\"(quiz_dtl, index) in tutorial.quiz_dtl\" :key=\"index\"  >\n                                      {{ tutorial.quiz_dtl[index] }}\n                                    </v-list-item> \n                                  </v-chip> \n\n                              </v-card-text>\n                            </div>\n                          </v-expand-transition> \n                        </div> \n                           \n                  </div>\n                          \n                  \n                  </v-list-item-content>    \n                </v-list-item>\n              </v-list-item-group> \n            </v-col>\n          </v-row>\n\n        </v-tab-item> \n         <v-tab-item key='k1' value='k1' > \n  <!-- @click=\"setActiveTutorial(tutorial, index)\" -->\n          <v-list-item-group \n            color=\"primary\" \n            > \n            <v-list-item\n              v-for=\"(tutorial, index) in tutorials\"  \n              :key=\"index\"  \n            > \n            <v-chip class=\"text-white text-xs mr-5\" color=\"green\"  > \n              <v-list-item v-for=\"(quiz_dtl, index) in tutorial.quiz_dtl\" :key=\"index\"  >\n                {{ tutorial.quiz_dtl[index] }}\n              </v-list-item> \n            </v-chip> \n            <span class=\"text-xs text-green-700 font-semibold tracking-wide\">{{ tutorial.name }}</span>\n \n\n                     \n\n            </v-list-item>\n          </v-list-item-group> \n        </v-tab-item> \n\n\n        \n      </v-tabs-items> \n    </div> \n\n\n     \n  </div>\n</template>\n \n\n<script>\n\nimport TutorialDetails from \"./asask5_Mdf\";\n \nimport SeatDataService from \"../services/SeatPrepareService\";\n\nimport PlayerService from \"../services/playerService\";\n \nimport Vue from 'vue' \nimport JsonCSV from 'vue-json-csv'\nVue.component('downloadCsv', JsonCSV)\n\nexport default {\n  name: \"tutorials-list\",\n  components: { TutorialDetails },\n  \n\n  data() {\n    return { \n         \n        search: '',\n        calories: '',\n      \n\n      // - - - - \n      p_ID:\"\",\n\n      radioGroup:\"\",\n      ex7:[],\n      \n      dialog: false,\n      tab:\"\",\n      ckbx:\"\",\n\n      opts: ['1星','2星','3星','4星','5星'],\n      copyRight_N:false,\n      copyRight_T:false, \n      copyRight_M:false, \n      \n      bch_left_time:\"\",\n      bch_tmp_idx:\"\",\n      bch_memo:\"\",\n \n      show: false,\n      tutorials: [],\n      currentTutorial: null,\n      currentIndex: -1\n    };\n  }, \n  computed: {\n      headers () {\n        return [\n          {\n            text: '姓名',\n            align: 'start',\n            sortable: false,\n            value: 'name',\n          },\n          {\n            text: '病號',\n            value: 'patient_ID',\n            filter: value => {\n              if (!this.p_ID) return true\n\n              return value < parseInt(this.p_ID)\n            },\n          },\n          { text: '手術階段', value: 'quiz_statu' },\n          { text: '填答日期', value: 'quiz_date' },\n          { text: '數值概要1', value: 'quiz_fdbk[0]' },\n          { text: '數值概要2', value: 'quiz_fdbk[1]' },\n          { text: '數值概要3', value: 'quiz_fdbk[2]' },\n          { text: '數值概要4', value: 'quiz_fdbk[3]' },\n          { text: '流水編號', value: 'key' },\n        ]\n      },\n    },\n  methods: { \n    filterOnlyCapsText (value, search, item) {\n        return value != null &&\n          search != null &&\n          typeof value === 'string' &&\n          value.toString().toLocaleUpperCase().indexOf(search) !== -1\n      },\n    onDataChange(items) {\n       \n      let _tutorials = []; \n\n\n      items.forEach((item) => {\n        let key = item.key;\n        let data = item.val();\n        _tutorials.push({\n            key: key,  \n\n            patient_ID :data.patient_ID,\n            prePare :data.prePare,\n            quiz_statu: data.quiz_statu,\n            quiz_date: data.quiz_date,\n\n            name: data.name,\n            quiz_dtl: data.quiz_dtl,\n            quiz_fdbk: data.quiz_fdbk, \n\n        });\n      });\n\n      this.tutorials = _tutorials;\n\n    // //  ::  藉由使用  ::\n    // var temp_ary = _tutorials.map(function(item, index, array){ \n    //     if (item.description !== '') {\n    //           return item.description;\n    //         }  \n    //   }) ; \n    // this.FVB = temp_ary ;\n    // console.log('- - - < temp_ary > - - -');  \n    // console.log(temp_ary);  \n \n    },\n    \n    \n\n    refreshList() {\n      this.currentTutorial = null;\n      this.currentIndex = -1;\n    },\n\nsetActiveTutorial(tutorial, index) {\n       \n      this.currentTutorial = tutorial;\n      this.currentIndex = index;  \n\n        if( this.copyRight_N != false)\n        {\n              this.currentTutorial.tmp_idx = this.bch_tmp_idx; \n              this.bch_updta();\n              this.message = \"複製更新 成功!\";\n        } \n        \n        if( this.copyRight_T != false)\n        { \n              this.currentTutorial.left_time = this.bch_left_time;\n              this.bch_updta();\n              this.message = \"複製更新 成功!\";\n        } \n\n         if( this.copyRight_M != false)\n        { \n              this.currentTutorial.memo = this.bch_memo;\n              this.bch_updta();\n              this.message = \"複製更新 成功!\";\n        } \n\n        \n\n},\n\nbch_updta()\n{\n  const data = {   \n        tmp_idx: this.currentTutorial.tmp_idx, \n        left_time: this.currentTutorial.left_time,\n        memo: this.currentTutorial.memo,  \n      };\n\n      SeatDataService.update(this.currentTutorial.key, data)\n        .then(() => {\n          this.message = \"更新成功!\";\n        })\n        .catch((e) => {\n          console.log(e);\n        }); \n}\n\n// reSet_bch_N(){ if(this.copyRight_N == false) { this.bch_left_time = \"\"; }  },\n// reSet_bch_T(){ if(this.copyRight_T == false) { this.bch_tmp_idx = \"\"  ; }  },\n      \n,\n\n\n reSet_pos_0() { \n       \n      for (let index = 0; index <= 100; index++) {  \n        \n          this.setActiveTutorial(this.tutorials[index] , index);\n          this.reSetOne(this.tutorials[index] , index); \n      }\n      this.dialog.value = false;\n\n  },\n    reSet_pos_1() { \n       \n      for (let index = 0; index <= 36; index++) {  \n        \n          this.setActiveTutorial(this.tutorials[index] , index);\n          this.reSetOne(this.tutorials[index] , index);\n\n          \n      }\n      this.dialog.value = false;\n\n  },\n\n  reSet_pos_2() { \n       \n      for (let index = 37; index <= 100; index++) {  \n        \n          this.setActiveTutorial(this.tutorials[index] , index);\n          this.reSetOne(this.tutorials[index] , index);\n          \n      }\n      this.dialog.value = false;\n\n  },\n\n    reSetOne(tutorial, index) {\n       \n      this.currentTutorial = tutorial;\n      this.currentIndex = index; \n\n      this.currentTutorial.tmp_idx=\"\";\n      this.currentTutorial.left_time=\"\";\n      this.currentTutorial.memo=\"\";\n\n      const data = {   \n        tmp_idx: \"\", \n        left_time: \"\",\n        memo: \"\",  \n      };\n\n      SeatDataService.update(this.currentTutorial.key, data)\n        .then(() => {\n          this.message = \"更新成功!\";\n        })\n        .catch((e) => {\n          console.log(e);\n        }); \n    },\n\n    removeAllTutorials() {\n      SeatDataService.deleteAll()\n        .then(() => {\n          this.refreshList();\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n\n    \n  },\n  mounted() {\n    // console.log(_tutorials.title);  \n     PlayerService.getAll().on(\"value\", this.onDataChange);  \n  },\n  beforeDestroy() {\n     PlayerService.getAll().off(\"value\", this.onDataChange);\n  }, \n\n    \n};\n</script>\n\n<style>\n/* .submit-form {\n  max-width: 300px;\n  margin: auto;\n} */\n</style>\n\n\n<style>\n.list {\n  text-align: left;\n  max-width: 750px;\n  margin: auto;\n}\n</style>\n"]}]}
{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-5d5fb481\"],{\"24fb\":function(t,e,n){\"use strict\";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"list row\"},[n(\"div\",{staticClass:\"col-md-8\"},[n(\"a\",{staticClass:\"text-3xl py-2 \"},[t._v(\" 詞彙 列表 \")]),n(\"ul\",{staticClass:\"list-group\"},t._l(t.tutorials,(function(e,i){return n(\"li\",{key:i,staticClass:\"list-group-item\",class:{active:i==t.currentIndex},on:{click:function(n){return t.setActiveTutorial(e,i)}}},[t._v(\" \"+t._s(e.description)+\" , \"+t._s(e.spell_tayal)+\" , \"+t._s(e.spell_zh_tw)+\" , \"),t._v(\" \"+t._s(e.semester)+\" , \"+t._s(e.season)+\" , \"+t._s(e.topic)+\" \")])})),0),n(\"button\",{staticClass:\"m-3 btn btn-sm btn-danger\",on:{click:t.removeAllTutorials}},[t._v(\" Remove All \")])]),n(\"div\",{staticClass:\"col-md-4\"},[t.currentTutorial?n(\"div\",[n(\"tutorial-details\",{attrs:{tutorial:t.currentTutorial},on:{refreshList:t.refreshList}})],1):n(\"div\",[n(\"br\"),n(\"p\",[t._v(\"Please click on a Tutorial...\")])])])])},s=[],a=(n(\"a4d3\"),n(\"e01a\"),n(\"4160\"),n(\"159b\"),n(\"d142\")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentTutorial?n(\"div\",{},[n(\"a\",{staticClass:\"text-3xl py-2 \"},[t._v(\" 詞彙說明 \")]),n(\"form\",[n(\"div\",{},[n(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.currentTutorial.spell_tayal,expression:\"currentTutorial.spell_tayal\"}],staticClass:\"form-control\",attrs:{type:\"text\",id:\"title\"},domProps:{value:t.currentTutorial.spell_tayal},on:{input:function(e){e.target.composing||t.$set(t.currentTutorial,\"spell_tayal\",e.target.value)}}}),n(\"label\",{attrs:{for:\"title\"}},[t._v(\"泰雅文\")]),n(\"v-text-field\",{attrs:{solo:\"\",clearable:\"\"},model:{value:t.currentTutorial.spell_tayal,callback:function(e){t.$set(t.currentTutorial,\"spell_tayal\",e)},expression:\"currentTutorial.spell_tayal\"}}),n(\"label\",{attrs:{for:\"description\"}},[t._v(\"中文\")]),n(\"v-text-field\",{attrs:{solo:\"\",clearable:\"\"},model:{value:t.currentTutorial.spell_zh_tw,callback:function(e){t.$set(t.currentTutorial,\"spell_zh_tw\",e)},expression:\"currentTutorial.spell_zh_tw\"}}),n(\"label\",{attrs:{for:\"description\"}},[t._v(\"細節描述\")]),n(\"v-text-field\",{attrs:{solo:\"\",clearable:\"\"},model:{value:t.currentTutorial.description,callback:function(e){t.$set(t.currentTutorial,\"description\",e)},expression:\"currentTutorial.description\"}})],1),n(\"div\",{staticClass:\"form-group\"},[n(\"v-combobox\",t._g(t._b({attrs:{multiple:\"\",chips:\"\",\"small-chips\":\"\",label:\"泰雅時序\",readonly:\"\"},model:{value:t.currentTutorial.season,callback:function(e){t.$set(t.currentTutorial,\"season\",e)},expression:\"currentTutorial.season\"}},\"v-combobox\",t.attrs,!1),t.on))],1),n(\"div\",{staticClass:\"form-group\"},[n(\"v-combobox\",t._g(t._b({attrs:{multiple:\"\",chips:\"\",\"small-chips\":\"\",label:\"課程主題\",readonly:\"\"},model:{value:t.currentTutorial.topic,callback:function(e){t.$set(t.currentTutorial,\"topic\",e)},expression:\"currentTutorial.topic\"}},\"v-combobox\",t.attrs,!1),t.on))],1)]),t.currentTutorial.published?n(\"button\",{staticClass:\"badge badge-primary mr-2\",on:{click:function(e){return t.updatePublished(!1)}}},[t._v(\" UnPublish \")]):n(\"button\",{staticClass:\"badge badge-primary mr-2\",on:{click:function(e){return t.updatePublished(!0)}}},[t._v(\" 儲存 \")]),n(\"button\",{staticClass:\"badge badge-danger mr-2\",on:{click:t.deleteTutorial}},[t._v(\" 刪除 \")]),n(\"button\",{staticClass:\"m-3 btn btn-sm btn-danger\",attrs:{type:\"submit\"},on:{click:t.updateTutorial}},[t._v(\" 更新 \")]),n(\"p\",[t._v(t._s(t.message))])]):n(\"div\",[n(\"br\"),n(\"p\",[t._v(\"Please 確認 on a Tutorial...\")])])},r=[],o=n(\"5530\"),c={name:\"tutorial\",props:[\"tutorial\"],data:function(){return{currentTutorial:null,message:\"\"}},watch:{tutorial:function(t){this.currentTutorial=Object(o[\"a\"])({},t),this.message=\"\"}},methods:{updatePublished:function(t){var e=this;a[\"a\"].update(this.currentTutorial.key,{published:t}).then((function(){e.message=\"The status was updated successfully!\"})).catch((function(t){console.log(t)}))},updateTutorial:function(){var t=this,e={spell_tayal:this.currentTutorial.spell_tayal,spell_zh_tw:this.currentTutorial.spell_zh_tw,description:this.currentTutorial.description,topic:this.currentTutorial.topic,season:this.currentTutorial.season};a[\"a\"].update(this.currentTutorial.key,e).then((function(){t.message=\"更新成功!\"})).catch((function(t){console.log(t)}))},deleteTutorial:function(){var t=this;a[\"a\"].delete(this.currentTutorial.key).then((function(){t.$emit(\"refreshList\")})).catch((function(t){console.log(t)}))}},mounted:function(){this.message=\"\",this.currentTutorial=Object(o[\"a\"])({},this.tutorial)}},u=c,h=(n(\"5432\"),n(\"2877\")),d=n(\"6544\"),p=n.n(d),f=(n(\"7db0\"),n(\"c740\"),n(\"caad\"),n(\"fb6a\"),n(\"a434\"),n(\"b0c0\"),n(\"d3b7\"),n(\"25f0\"),n(\"8a79\"),n(\"2532\"),n(\"53ca\")),m=(n(\"2bfd\"),n(\"b974\")),v=(n(\"4de4\"),n(\"c975\"),n(\"d81d\"),n(\"45fc\"),n(\"498a\"),n(\"8654\")),I=n(\"d9f7\"),g=n(\"80d2\"),b=Object(o[\"a\"])(Object(o[\"a\"])({},m[\"b\"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1}),S=m[\"a\"].extend({name:\"v-autocomplete\",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:m[\"a\"].options.props.menuProps.type,default:function(){return b}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(o[\"a\"])(Object(o[\"a\"])({},m[\"a\"].options.computed.classes.call(this)),{},{\"v-autocomplete\":!0,\"v-autocomplete--is-selecting-index\":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(g[\"m\"])(e,t.itemText),i=null!=n?String(n):\"\";return t.filter(e,String(t.internalSearch),i)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit(\"update:search-input\",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=m[\"a\"].options.computed.$_menuProps.call(this);return t.contentClass=\"v-autocomplete__content \".concat(t.contentClass||\"\").trim(),Object(o[\"a\"])(Object(o[\"a\"])({},b),t)},searchIsDirty:function(){return null!=this.internalSearch&&\"\"!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=m[\"a\"].options.computed.listData.call(this);return t.props=Object(o[\"a\"])(Object(o[\"a\"])({},t.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:\"onFilteredItemsChanged\",internalValue:\"setSearch\",isFocused:function(t){t?(document.addEventListener(\"copy\",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener(\"copy\",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:\"onInternalSearchChanged\",itemText:\"updateSelf\"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener(\"copy\",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;t!==e&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===g[\"r\"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===g[\"r\"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==g[\"r\"].backspace&&t!==g[\"r\"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var i=this.selectedItems.length,s=t!==i-1?t:t-1,a=this.selectedItems[s];a?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=s}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=null,m[\"a\"].options.methods.clearableCallback.call(this)},genInput:function(){var t=v[\"a\"].options.methods.genInput.call(this);return t.data=Object(I[\"a\"])(t.data,{attrs:{\"aria-activedescendant\":Object(g[\"l\"])(this.$refs.menu,\"activeTile.id\"),autocomplete:Object(g[\"l\"])(t.data,\"attrs.autocomplete\",\"off\")},domProps:{value:this.internalSearch}}),t},genInputSlot:function(){var t=m[\"a\"].options.methods.genInputSlot.call(this);return t.data.attrs.role=\"combobox\",t},genSelections:function(){return this.hasSlot||this.multiple?m[\"a\"].options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[g[\"r\"].home,g[\"r\"].end].includes(e)||m[\"a\"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){m[\"a\"].options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){m[\"a\"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){m[\"a\"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,n;if(-1!==this.selectedIndex){var i=this.selectedItems[this.selectedIndex],s=this.getText(i);null==(e=t.clipboardData)||e.setData(\"text/plain\",s),null==(n=t.clipboardData)||n.setData(\"text/vnd.vuetify.autocomplete.item+plain\",s),t.preventDefault()}}}}),x=S.extend({name:\"v-combobox\",props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{computedCounterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||\"\").toString().length},hasSlot:function(){return m[\"a\"].options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots[\"no-data\"]&&!this.hideNoData)},searchIsDirty:function(){return null!=this.internalSearch}},methods:{onInternalSearchChanged:function(t){if(t&&this.multiple&&this.delimiters.length){var e=this.delimiters.find((function(e){return t.endsWith(e)}));null!=e&&(this.internalSearch=t.slice(0,t.length-e.length),this.updateTags())}this.updateMenuDimensions()},genInput:function(){var t=S.options.methods.genInput.call(this);return delete t.data.attrs.name,t.data.on.paste=this.onPaste,t},genChipSelection:function(t,e){var n=this,i=m[\"a\"].options.methods.genChipSelection.call(this,t,e);return this.multiple&&(i.componentOptions.listeners=Object(o[\"a\"])(Object(o[\"a\"])({},i.componentOptions.listeners),{},{dblclick:function(){n.editingIndex=e,n.internalSearch=n.getText(t),n.selectedIndex=-1}})),i},onChipInput:function(t){m[\"a\"].options.methods.onChipInput.call(this,t),this.editingIndex=-1},onEnterDown:function(t){t.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onFilteredItemsChanged:function(t,e){this.autoSelectFirst&&S.options.methods.onFilteredItemsChanged.call(this,t,e)},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[g[\"r\"].home,g[\"r\"].end].includes(e)||m[\"a\"].options.methods.onKeyDown.call(this,t),this.multiple&&e===g[\"r\"].left&&0===this.$refs.input.selectionStart?this.updateSelf():e===g[\"r\"].enter&&this.onEnterDown(t),this.changeSelectedIndex(e)},onTabDown:function(t){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return t.preventDefault(),t.stopPropagation(),this.updateTags();S.options.methods.onTabDown.call(this,t)},selectItem:function(t){this.editingIndex>-1?this.updateEditing():(S.options.methods.selectItem.call(this,t),this.internalSearch&&this.multiple&&this.getText(t).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())&&(this.internalSearch=null))},setSelectedItems:function(){null==this.internalValue||\"\"===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue:function(t){m[\"a\"].options.methods.setValue.call(this,null!=t?t:this.internalSearch)},updateEditing:function(){var t=this,e=this.internalValue.slice(),n=this.selectedItems.findIndex((function(e){return t.getText(e)===t.internalSearch}));if(n>-1){var i=\"object\"===Object(f[\"a\"])(e[n])?Object.assign({},e[n]):e[n];e.splice(n,1),e.push(i)}else e[this.editingIndex]=this.internalSearch;this.setValue(e),this.editingIndex=-1,this.internalSearch=null},updateCombobox:function(){if(this.searchIsDirty){this.internalSearch!==this.getText(this.internalValue)&&this.setValue();var t=Boolean(this.$scopedSlots.selection)||this.hasChips;t&&(this.internalSearch=null)}},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var t=this,e=this.getMenuIndex();if(!(e<0&&!this.searchIsDirty||!this.internalSearch)){if(this.editingIndex>-1)return this.updateEditing();var n=this.selectedItems.findIndex((function(e){return t.internalSearch===t.getText(e)})),i=n>-1&&\"object\"===Object(f[\"a\"])(this.selectedItems[n])?Object.assign({},this.selectedItems[n]):this.internalSearch;if(n>-1){var s=this.internalValue.slice();s.splice(n,1),this.setValue(s)}if(e>-1)return this.internalSearch=null;this.selectItem(i),this.internalSearch=null}},onPaste:function(t){var e;if(this.multiple&&!this.searchIsDirty){var n=null==(e=t.clipboardData)?void 0:e.getData(\"text/vnd.vuetify.autocomplete.item+plain\");n&&-1===this.findExistingIndex(n)&&(t.preventDefault(),m[\"a\"].options.methods.selectItem.call(this,n))}},clearableCallback:function(){this.editingIndex=-1,S.options.methods.clearableCallback.call(this)}}}),y=Object(h[\"a\"])(u,l,r,!1,null,null,null),T=y.exports;p()(y,{VCombobox:x,VTextField:v[\"a\"]});var _={name:\"tutorials-list\",components:{TutorialDetails:T},data:function(){return{tutorials:[],currentTutorial:null,currentIndex:-1}},methods:{onDataChange:function(t){var e=[];t.forEach((function(t){var n=t.key,i=t.val();e.push({key:n,spell_tayal:i.spell_tayal,spell_zh_tw:i.spell_zh_tw,description:i.description,season:i.season,topic:i.topic})})),this.tutorials=e},refreshList:function(){this.currentTutorial=null,this.currentIndex=-1},setActiveTutorial:function(t,e){this.currentTutorial=t,this.currentIndex=e},removeAllTutorials:function(){var t=this;a[\"a\"].deleteAll().then((function(){t.refreshList()})).catch((function(t){console.log(t)}))}},mounted:function(){a[\"a\"].getAll().on(\"value\",this.onDataChange)},beforeDestroy:function(){a[\"a\"].getAll().off(\"value\",this.onDataChange)}},C=_,D=(n(\"990a\"),Object(h[\"a\"])(C,i,s,!1,null,null,null));e[\"default\"]=D.exports},\"2bfd\":function(t,e,n){},5432:function(t,e,n){\"use strict\";var i=n(\"c384\"),s=n.n(i);s.a},\"990a\":function(t,e,n){\"use strict\";var i=n(\"b87e\"),s=n.n(i);s.a},b87e:function(t,e,n){},c384:function(t,e,n){}}]);","extractedComments":[]}
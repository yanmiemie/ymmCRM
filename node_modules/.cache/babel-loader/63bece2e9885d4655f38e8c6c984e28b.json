{"remainingRequest":"/Users/qiushunqun/Desktop/_長庚/ask8/node_modules/thread-loader/dist/cjs.js!/Users/qiushunqun/Desktop/_長庚/ask8/node_modules/babel-loader/lib/index.js!/Users/qiushunqun/Desktop/_長庚/ask8/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiushunqun/Desktop/_長庚/ask8/src/vuedraggable.js","dependencies":[{"path":"/Users/qiushunqun/Desktop/_長庚/ask8/src/vuedraggable.js","mtime":1635432551944},{"path":"/Users/qiushunqun/Desktop/_長庚/ask8/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_長庚/ask8/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_長庚/ask8/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_長庚/ask8/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL1VzZXJzL3FpdXNodW5xdW4vRGVza3RvcC9fXHU5NTc3XHU1RTlBL2Fzazgvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9xaXVzaHVucXVuL0Rlc2t0b3AvX1x1OTU3N1x1NUU5QS9hc2s4L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBTb3J0YWJsZSBmcm9tICJzb3J0YWJsZWpzIjsKaW1wb3J0IHsgaW5zZXJ0Tm9kZUF0LCBjYW1lbGl6ZSwgY29uc29sZSwgcmVtb3ZlTm9kZSB9IGZyb20gIi4vdXRpbC9oZWxwZXIiOwoKZnVuY3Rpb24gYnVpbGRBdHRyaWJ1dGUob2JqZWN0LCBwcm9wTmFtZSwgdmFsdWUpIHsKICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgcmV0dXJuIG9iamVjdDsKICB9CgogIG9iamVjdCA9IG9iamVjdCB8fCB7fTsKICBvYmplY3RbcHJvcE5hbWVdID0gdmFsdWU7CiAgcmV0dXJuIG9iamVjdDsKfQoKZnVuY3Rpb24gY29tcHV0ZVZtSW5kZXgodm5vZGVzLCBlbGVtZW50KSB7CiAgcmV0dXJuIHZub2Rlcy5tYXAoZnVuY3Rpb24gKGVsdCkgewogICAgcmV0dXJuIGVsdC5lbG07CiAgfSkuaW5kZXhPZihlbGVtZW50KTsKfQoKZnVuY3Rpb24gX2NvbXB1dGVJbmRleGVzKHNsb3RzLCBjaGlsZHJlbiwgaXNUcmFuc2l0aW9uLCBmb290ZXJPZmZzZXQpIHsKICBpZiAoIXNsb3RzKSB7CiAgICByZXR1cm4gW107CiAgfQoKICB2YXIgZWxtRnJvbU5vZGVzID0gc2xvdHMubWFwKGZ1bmN0aW9uIChlbHQpIHsKICAgIHJldHVybiBlbHQuZWxtOwogIH0pOwogIHZhciBmb290ZXJJbmRleCA9IGNoaWxkcmVuLmxlbmd0aCAtIGZvb3Rlck9mZnNldDsKCiAgdmFyIHJhd0luZGV4ZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoY2hpbGRyZW4pLm1hcChmdW5jdGlvbiAoZWx0LCBpZHgpIHsKICAgIHJldHVybiBpZHggPj0gZm9vdGVySW5kZXggPyBlbG1Gcm9tTm9kZXMubGVuZ3RoIDogZWxtRnJvbU5vZGVzLmluZGV4T2YoZWx0KTsKICB9KTsKCiAgcmV0dXJuIGlzVHJhbnNpdGlvbiA/IHJhd0luZGV4ZXMuZmlsdGVyKGZ1bmN0aW9uIChpbmQpIHsKICAgIHJldHVybiBpbmQgIT09IC0xOwogIH0pIDogcmF3SW5kZXhlczsKfQoKZnVuY3Rpb24gZW1pdChldnROYW1lLCBldnREYXRhKSB7CiAgdmFyIF90aGlzID0gdGhpczsKCiAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIF90aGlzLiRlbWl0KGV2dE5hbWUudG9Mb3dlckNhc2UoKSwgZXZ0RGF0YSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIGRlbGVnYXRlQW5kRW1pdChldnROYW1lKSB7CiAgdmFyIF90aGlzMiA9IHRoaXM7CgogIHJldHVybiBmdW5jdGlvbiAoZXZ0RGF0YSkgewogICAgaWYgKF90aGlzMi5yZWFsTGlzdCAhPT0gbnVsbCkgewogICAgICBfdGhpczJbIm9uRHJhZyIgKyBldnROYW1lXShldnREYXRhKTsKICAgIH0KCiAgICBlbWl0LmNhbGwoX3RoaXMyLCBldnROYW1lLCBldnREYXRhKTsKICB9Owp9CgpmdW5jdGlvbiBpc1RyYW5zaXRpb25OYW1lKG5hbWUpIHsKICByZXR1cm4gWyJ0cmFuc2l0aW9uLWdyb3VwIiwgIlRyYW5zaXRpb25Hcm91cCJdLmluY2x1ZGVzKG5hbWUpOwp9CgpmdW5jdGlvbiBpc1RyYW5zaXRpb24oc2xvdHMpIHsKICBpZiAoIXNsb3RzIHx8IHNsb3RzLmxlbmd0aCAhPT0gMSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFyIF9zbG90cyA9IF9zbGljZWRUb0FycmF5KHNsb3RzLCAxKSwKICAgICAgY29tcG9uZW50T3B0aW9ucyA9IF9zbG90c1swXS5jb21wb25lbnRPcHRpb25zOwoKICBpZiAoIWNvbXBvbmVudE9wdGlvbnMpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHJldHVybiBpc1RyYW5zaXRpb25OYW1lKGNvbXBvbmVudE9wdGlvbnMudGFnKTsKfQoKZnVuY3Rpb24gZ2V0U2xvdChzbG90LCBzY29wZWRTbG90LCBrZXkpIHsKICByZXR1cm4gc2xvdFtrZXldIHx8IChzY29wZWRTbG90W2tleV0gPyBzY29wZWRTbG90W2tleV0oKSA6IHVuZGVmaW5lZCk7Cn0KCmZ1bmN0aW9uIGNvbXB1dGVDaGlsZHJlbkFuZE9mZnNldHMoY2hpbGRyZW4sIHNsb3QsIHNjb3BlZFNsb3QpIHsKICB2YXIgaGVhZGVyT2Zmc2V0ID0gMDsKICB2YXIgZm9vdGVyT2Zmc2V0ID0gMDsKICB2YXIgaGVhZGVyID0gZ2V0U2xvdChzbG90LCBzY29wZWRTbG90LCAiaGVhZGVyIik7CgogIGlmIChoZWFkZXIpIHsKICAgIGhlYWRlck9mZnNldCA9IGhlYWRlci5sZW5ndGg7CiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShoZWFkZXIpLCBfdG9Db25zdW1hYmxlQXJyYXkoY2hpbGRyZW4pKSA6IF90b0NvbnN1bWFibGVBcnJheShoZWFkZXIpOwogIH0KCiAgdmFyIGZvb3RlciA9IGdldFNsb3Qoc2xvdCwgc2NvcGVkU2xvdCwgImZvb3RlciIpOwoKICBpZiAoZm9vdGVyKSB7CiAgICBmb290ZXJPZmZzZXQgPSBmb290ZXIubGVuZ3RoOwogICAgY2hpbGRyZW4gPSBjaGlsZHJlbiA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoY2hpbGRyZW4pLCBfdG9Db25zdW1hYmxlQXJyYXkoZm9vdGVyKSkgOiBfdG9Db25zdW1hYmxlQXJyYXkoZm9vdGVyKTsKICB9CgogIHJldHVybiB7CiAgICBjaGlsZHJlbjogY2hpbGRyZW4sCiAgICBoZWFkZXJPZmZzZXQ6IGhlYWRlck9mZnNldCwKICAgIGZvb3Rlck9mZnNldDogZm9vdGVyT2Zmc2V0CiAgfTsKfQoKZnVuY3Rpb24gZ2V0Q29tcG9uZW50QXR0cmlidXRlcygkYXR0cnMsIGNvbXBvbmVudERhdGEpIHsKICB2YXIgYXR0cmlidXRlcyA9IG51bGw7CgogIHZhciB1cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUobmFtZSwgdmFsdWUpIHsKICAgIGF0dHJpYnV0ZXMgPSBidWlsZEF0dHJpYnV0ZShhdHRyaWJ1dGVzLCBuYW1lLCB2YWx1ZSk7CiAgfTsKCiAgdmFyIGF0dHJzID0gT2JqZWN0LmtleXMoJGF0dHJzKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkgewogICAgcmV0dXJuIGtleSA9PT0gImlkIiB8fCBrZXkuc3RhcnRzV2l0aCgiZGF0YS0iKTsKICB9KS5yZWR1Y2UoZnVuY3Rpb24gKHJlcywga2V5KSB7CiAgICByZXNba2V5XSA9ICRhdHRyc1trZXldOwogICAgcmV0dXJuIHJlczsKICB9LCB7fSk7CiAgdXBkYXRlKCJhdHRycyIsIGF0dHJzKTsKCiAgaWYgKCFjb21wb25lbnREYXRhKSB7CiAgICByZXR1cm4gYXR0cmlidXRlczsKICB9CgogIHZhciBvbiA9IGNvbXBvbmVudERhdGEub24sCiAgICAgIHByb3BzID0gY29tcG9uZW50RGF0YS5wcm9wcywKICAgICAgY29tcG9uZW50RGF0YUF0dHJzID0gY29tcG9uZW50RGF0YS5hdHRyczsKICB1cGRhdGUoIm9uIiwgb24pOwogIHVwZGF0ZSgicHJvcHMiLCBwcm9wcyk7CiAgT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLmF0dHJzLCBjb21wb25lbnREYXRhQXR0cnMpOwogIHJldHVybiBhdHRyaWJ1dGVzOwp9Cgp2YXIgZXZlbnRzTGlzdGVuZWQgPSBbIlN0YXJ0IiwgIkFkZCIsICJSZW1vdmUiLCAiVXBkYXRlIiwgIkVuZCJdOwp2YXIgZXZlbnRzVG9FbWl0ID0gWyJDaG9vc2UiLCAiVW5jaG9vc2UiLCAiU29ydCIsICJGaWx0ZXIiLCAiQ2xvbmUiXTsKdmFyIHJlYWRvbmx5UHJvcGVydGllcyA9IFsiTW92ZSJdLmNvbmNhdChldmVudHNMaXN0ZW5lZCwgZXZlbnRzVG9FbWl0KS5tYXAoZnVuY3Rpb24gKGV2dCkgewogIHJldHVybiAib24iICsgZXZ0Owp9KTsKdmFyIGRyYWdnaW5nRWxlbWVudCA9IG51bGw7CnZhciBwcm9wcyA9IHsKICBvcHRpb25zOiBPYmplY3QsCiAgbGlzdDogewogICAgdHlwZTogQXJyYXksCiAgICByZXF1aXJlZDogZmFsc2UsCiAgICBkZWZhdWx0OiBudWxsCiAgfSwKICB2YWx1ZTogewogICAgdHlwZTogQXJyYXksCiAgICByZXF1aXJlZDogZmFsc2UsCiAgICBkZWZhdWx0OiBudWxsCiAgfSwKICBub1RyYW5zaXRpb25PbkRyYWc6IHsKICAgIHR5cGU6IEJvb2xlYW4sCiAgICBkZWZhdWx0OiBmYWxzZQogIH0sCiAgY2xvbmU6IHsKICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQob3JpZ2luYWwpIHsKICAgICAgcmV0dXJuIG9yaWdpbmFsOwogICAgfQogIH0sCiAgZWxlbWVudDogewogICAgdHlwZTogU3RyaW5nLAogICAgZGVmYXVsdDogImRpdiIKICB9LAogIHRhZzogewogICAgdHlwZTogU3RyaW5nLAogICAgZGVmYXVsdDogbnVsbAogIH0sCiAgbW92ZTogewogICAgdHlwZTogRnVuY3Rpb24sCiAgICBkZWZhdWx0OiBudWxsCiAgfSwKICBjb21wb25lbnREYXRhOiB7CiAgICB0eXBlOiBPYmplY3QsCiAgICByZXF1aXJlZDogZmFsc2UsCiAgICBkZWZhdWx0OiBudWxsCiAgfQp9Owp2YXIgZHJhZ2dhYmxlQ29tcG9uZW50ID0gewogIG5hbWU6ICJkcmFnZ2FibGUiLAogIGluaGVyaXRBdHRyczogZmFsc2UsCiAgcHJvcHM6IHByb3BzLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0cmFuc2l0aW9uTW9kZTogZmFsc2UsCiAgICAgIG5vbmVGdW5jdGlvbmFsQ29tcG9uZW50TW9kZTogZmFsc2UKICAgIH07CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICB2YXIgc2xvdHMgPSB0aGlzLiRzbG90cy5kZWZhdWx0OwogICAgdGhpcy50cmFuc2l0aW9uTW9kZSA9IGlzVHJhbnNpdGlvbihzbG90cyk7CgogICAgdmFyIF9jb21wdXRlQ2hpbGRyZW5BbmRPZiA9IGNvbXB1dGVDaGlsZHJlbkFuZE9mZnNldHMoc2xvdHMsIHRoaXMuJHNsb3RzLCB0aGlzLiRzY29wZWRTbG90cyksCiAgICAgICAgY2hpbGRyZW4gPSBfY29tcHV0ZUNoaWxkcmVuQW5kT2YuY2hpbGRyZW4sCiAgICAgICAgaGVhZGVyT2Zmc2V0ID0gX2NvbXB1dGVDaGlsZHJlbkFuZE9mLmhlYWRlck9mZnNldCwKICAgICAgICBmb290ZXJPZmZzZXQgPSBfY29tcHV0ZUNoaWxkcmVuQW5kT2YuZm9vdGVyT2Zmc2V0OwoKICAgIHRoaXMuaGVhZGVyT2Zmc2V0ID0gaGVhZGVyT2Zmc2V0OwogICAgdGhpcy5mb290ZXJPZmZzZXQgPSBmb290ZXJPZmZzZXQ7CiAgICB2YXIgYXR0cmlidXRlcyA9IGdldENvbXBvbmVudEF0dHJpYnV0ZXModGhpcy4kYXR0cnMsIHRoaXMuY29tcG9uZW50RGF0YSk7CiAgICByZXR1cm4gaCh0aGlzLmdldFRhZygpLCBhdHRyaWJ1dGVzLCBjaGlsZHJlbik7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMubGlzdCAhPT0gbnVsbCAmJiB0aGlzLnZhbHVlICE9PSBudWxsKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoIlZhbHVlIGFuZCBsaXN0IHByb3BzIGFyZSBtdXR1YWxseSBleGNsdXNpdmUhIFBsZWFzZSBzZXQgb25lIG9yIGFub3RoZXIuIik7CiAgICB9CgogICAgaWYgKHRoaXMuZWxlbWVudCAhPT0gImRpdiIpIHsKICAgICAgY29uc29sZS53YXJuKCJFbGVtZW50IHByb3BzIGlzIGRlcHJlY2F0ZWQgcGxlYXNlIHVzZSB0YWcgcHJvcHMgaW5zdGVhZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Tb3J0YWJsZUpTL1Z1ZS5EcmFnZ2FibGUvYmxvYi9tYXN0ZXIvZG9jdW1lbnRhdGlvbi9taWdyYXRlLm1kI2VsZW1lbnQtcHJvcHMiKTsKICAgIH0KCiAgICBpZiAodGhpcy5vcHRpb25zICE9PSB1bmRlZmluZWQpIHsKICAgICAgY29uc29sZS53YXJuKCJPcHRpb25zIHByb3BzIGlzIGRlcHJlY2F0ZWQsIGFkZCBzb3J0YWJsZSBvcHRpb25zIGRpcmVjdGx5IGFzIHZ1ZS5kcmFnZ2FibGUgaXRlbSwgb3IgdXNlIHYtYmluZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Tb3J0YWJsZUpTL1Z1ZS5EcmFnZ2FibGUvYmxvYi9tYXN0ZXIvZG9jdW1lbnRhdGlvbi9taWdyYXRlLm1kI29wdGlvbnMtcHJvcHMiKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICB0aGlzLm5vbmVGdW5jdGlvbmFsQ29tcG9uZW50TW9kZSA9IHRoaXMuZ2V0VGFnKCkudG9Mb3dlckNhc2UoKSAhPT0gdGhpcy4kZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAmJiAhdGhpcy5nZXRJc0Z1bmN0aW9uYWwoKTsKCiAgICBpZiAodGhpcy5ub25lRnVuY3Rpb25hbENvbXBvbmVudE1vZGUgJiYgdGhpcy50cmFuc2l0aW9uTW9kZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlRyYW5zaXRpb24tZ3JvdXAgaW5zaWRlIGNvbXBvbmVudCBpcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgYWx0ZXIgdGFnIHZhbHVlIG9yIHJlbW92ZSB0cmFuc2l0aW9uLWdyb3VwLiBDdXJyZW50IHRhZyB2YWx1ZTogIi5jb25jYXQodGhpcy5nZXRUYWcoKSkpOwogICAgfQoKICAgIHZhciBvcHRpb25zQWRkZWQgPSB7fTsKICAgIGV2ZW50c0xpc3RlbmVkLmZvckVhY2goZnVuY3Rpb24gKGVsdCkgewogICAgICBvcHRpb25zQWRkZWRbIm9uIiArIGVsdF0gPSBkZWxlZ2F0ZUFuZEVtaXQuY2FsbChfdGhpczMsIGVsdCk7CiAgICB9KTsKICAgIGV2ZW50c1RvRW1pdC5mb3JFYWNoKGZ1bmN0aW9uIChlbHQpIHsKICAgICAgb3B0aW9uc0FkZGVkWyJvbiIgKyBlbHRdID0gZW1pdC5iaW5kKF90aGlzMywgZWx0KTsKICAgIH0pOwogICAgdmFyIGF0dHJpYnV0ZXMgPSBPYmplY3Qua2V5cyh0aGlzLiRhdHRycykucmVkdWNlKGZ1bmN0aW9uIChyZXMsIGtleSkgewogICAgICByZXNbY2FtZWxpemUoa2V5KV0gPSBfdGhpczMuJGF0dHJzW2tleV07CiAgICAgIHJldHVybiByZXM7CiAgICB9LCB7fSk7CiAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucywgYXR0cmlidXRlcywgb3B0aW9uc0FkZGVkLCB7CiAgICAgIG9uTW92ZTogZnVuY3Rpb24gb25Nb3ZlKGV2dCwgb3JpZ2luYWxFdmVudCkgewogICAgICAgIHJldHVybiBfdGhpczMub25EcmFnTW92ZShldnQsIG9yaWdpbmFsRXZlbnQpOwogICAgICB9CiAgICB9KTsKICAgICEoImRyYWdnYWJsZSIgaW4gb3B0aW9ucykgJiYgKG9wdGlvbnMuZHJhZ2dhYmxlID0gIj4qIik7CiAgICB0aGlzLl9zb3J0YWJsZSA9IG5ldyBTb3J0YWJsZSh0aGlzLnJvb3RDb250YWluZXIsIG9wdGlvbnMpOwogICAgdGhpcy5jb21wdXRlSW5kZXhlcygpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLl9zb3J0YWJsZSAhPT0gdW5kZWZpbmVkKSB0aGlzLl9zb3J0YWJsZS5kZXN0cm95KCk7CiAgfSwKICBjb21wdXRlZDogewogICAgcm9vdENvbnRhaW5lcjogZnVuY3Rpb24gcm9vdENvbnRhaW5lcigpIHsKICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvbk1vZGUgPyB0aGlzLiRlbC5jaGlsZHJlblswXSA6IHRoaXMuJGVsOwogICAgfSwKICAgIHJlYWxMaXN0OiBmdW5jdGlvbiByZWFsTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMubGlzdCA/IHRoaXMubGlzdCA6IHRoaXMudmFsdWU7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgb3B0aW9uczogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld09wdGlvblZhbHVlKSB7CiAgICAgICAgdGhpcy51cGRhdGVPcHRpb25zKG5ld09wdGlvblZhbHVlKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgICRhdHRyczogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld09wdGlvblZhbHVlKSB7CiAgICAgICAgdGhpcy51cGRhdGVPcHRpb25zKG5ld09wdGlvblZhbHVlKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIHJlYWxMaXN0OiBmdW5jdGlvbiByZWFsTGlzdCgpIHsKICAgICAgdGhpcy5jb21wdXRlSW5kZXhlcygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0SXNGdW5jdGlvbmFsOiBmdW5jdGlvbiBnZXRJc0Z1bmN0aW9uYWwoKSB7CiAgICAgIHZhciBmbk9wdGlvbnMgPSB0aGlzLl92bm9kZS5mbk9wdGlvbnM7CiAgICAgIHJldHVybiBmbk9wdGlvbnMgJiYgZm5PcHRpb25zLmZ1bmN0aW9uYWw7CiAgICB9LAogICAgZ2V0VGFnOiBmdW5jdGlvbiBnZXRUYWcoKSB7CiAgICAgIHJldHVybiB0aGlzLnRhZyB8fCB0aGlzLmVsZW1lbnQ7CiAgICB9LAogICAgdXBkYXRlT3B0aW9uczogZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhuZXdPcHRpb25WYWx1ZSkgewogICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBuZXdPcHRpb25WYWx1ZSkgewogICAgICAgIHZhciB2YWx1ZSA9IGNhbWVsaXplKHByb3BlcnR5KTsKCiAgICAgICAgaWYgKHJlYWRvbmx5UHJvcGVydGllcy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHsKICAgICAgICAgIHRoaXMuX3NvcnRhYmxlLm9wdGlvbih2YWx1ZSwgbmV3T3B0aW9uVmFsdWVbcHJvcGVydHldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRDaGlsZHJlbk5vZGVzOiBmdW5jdGlvbiBnZXRDaGlsZHJlbk5vZGVzKCkgewogICAgICBpZiAodGhpcy5ub25lRnVuY3Rpb25hbENvbXBvbmVudE1vZGUpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2hpbGRyZW5bMF0uJHNsb3RzLmRlZmF1bHQ7CiAgICAgIH0KCiAgICAgIHZhciByYXdOb2RlcyA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7CiAgICAgIHJldHVybiB0aGlzLnRyYW5zaXRpb25Nb2RlID8gcmF3Tm9kZXNbMF0uY2hpbGQuJHNsb3RzLmRlZmF1bHQgOiByYXdOb2RlczsKICAgIH0sCiAgICBjb21wdXRlSW5kZXhlczogZnVuY3Rpb24gY29tcHV0ZUluZGV4ZXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC52aXNpYmxlSW5kZXhlcyA9IF9jb21wdXRlSW5kZXhlcyhfdGhpczQuZ2V0Q2hpbGRyZW5Ob2RlcygpLCBfdGhpczQucm9vdENvbnRhaW5lci5jaGlsZHJlbiwgX3RoaXM0LnRyYW5zaXRpb25Nb2RlLCBfdGhpczQuZm9vdGVyT2Zmc2V0KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VW5kZXJseWluZ1ZtOiBmdW5jdGlvbiBnZXRVbmRlcmx5aW5nVm0oaHRtbEVsdCkgewogICAgICB2YXIgaW5kZXggPSBjb21wdXRlVm1JbmRleCh0aGlzLmdldENoaWxkcmVuTm9kZXMoKSB8fCBbXSwgaHRtbEVsdCk7CgogICAgICBpZiAoaW5kZXggPT09IC0xKSB7CiAgICAgICAgLy9FZGdlIGNhc2UgZHVyaW5nIG1vdmUgY2FsbGJhY2s6IHJlbGF0ZWQgZWxlbWVudCBtaWdodCBiZQogICAgICAgIC8vYW4gZWxlbWVudCBkaWZmZXJlbnQgZnJvbSBjb2xsZWN0aW9uCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5yZWFsTGlzdFtpbmRleF07CiAgICAgIHJldHVybiB7CiAgICAgICAgaW5kZXg6IGluZGV4LAogICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQKICAgICAgfTsKICAgIH0sCiAgICBnZXRVbmRlcmx5aW5nUG90ZW5jaWFsRHJhZ2dhYmxlQ29tcG9uZW50OiBmdW5jdGlvbiBnZXRVbmRlcmx5aW5nUG90ZW5jaWFsRHJhZ2dhYmxlQ29tcG9uZW50KF9yZWYpIHsKICAgICAgdmFyIHZ1ZSA9IF9yZWYuX192dWVfXzsKCiAgICAgIGlmICghdnVlIHx8ICF2dWUuJG9wdGlvbnMgfHwgIWlzVHJhbnNpdGlvbk5hbWUodnVlLiRvcHRpb25zLl9jb21wb25lbnRUYWcpKSB7CiAgICAgICAgaWYgKCEoInJlYWxMaXN0IiBpbiB2dWUpICYmIHZ1ZS4kY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmICJyZWFsTGlzdCIgaW4gdnVlLiRjaGlsZHJlblswXSkgcmV0dXJuIHZ1ZS4kY2hpbGRyZW5bMF07CiAgICAgICAgcmV0dXJuIHZ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZ1ZS4kcGFyZW50OwogICAgfSwKICAgIGVtaXRDaGFuZ2VzOiBmdW5jdGlvbiBlbWl0Q2hhbmdlcyhldnQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LiRlbWl0KCJjaGFuZ2UiLCBldnQpOwogICAgICB9KTsKICAgIH0sCiAgICBhbHRlckxpc3Q6IGZ1bmN0aW9uIGFsdGVyTGlzdChvbkxpc3QpIHsKICAgICAgaWYgKHRoaXMubGlzdCkgewogICAgICAgIG9uTGlzdCh0aGlzLmxpc3QpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIG5ld0xpc3QgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy52YWx1ZSk7CgogICAgICBvbkxpc3QobmV3TGlzdCk7CiAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgbmV3TGlzdCk7CiAgICB9LAogICAgc3BsaWNlTGlzdDogZnVuY3Rpb24gc3BsaWNlTGlzdCgpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHM7CgogICAgICB2YXIgc3BsaWNlTGlzdCA9IGZ1bmN0aW9uIHNwbGljZUxpc3QobGlzdCkgewogICAgICAgIHJldHVybiBsaXN0LnNwbGljZS5hcHBseShsaXN0LCBfdG9Db25zdW1hYmxlQXJyYXkoX2FyZ3VtZW50cykpOwogICAgICB9OwoKICAgICAgdGhpcy5hbHRlckxpc3Qoc3BsaWNlTGlzdCk7CiAgICB9LAogICAgdXBkYXRlUG9zaXRpb246IGZ1bmN0aW9uIHVwZGF0ZVBvc2l0aW9uKG9sZEluZGV4LCBuZXdJbmRleCkgewogICAgICB2YXIgdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihsaXN0KSB7CiAgICAgICAgcmV0dXJuIGxpc3Quc3BsaWNlKG5ld0luZGV4LCAwLCBsaXN0LnNwbGljZShvbGRJbmRleCwgMSlbMF0pOwogICAgICB9OwoKICAgICAgdGhpcy5hbHRlckxpc3QodXBkYXRlUG9zaXRpb24pOwogICAgfSwKICAgIGdldFJlbGF0ZWRDb250ZXh0RnJvbU1vdmVFdmVudDogZnVuY3Rpb24gZ2V0UmVsYXRlZENvbnRleHRGcm9tTW92ZUV2ZW50KF9yZWYyKSB7CiAgICAgIHZhciB0byA9IF9yZWYyLnRvLAogICAgICAgICAgcmVsYXRlZCA9IF9yZWYyLnJlbGF0ZWQ7CiAgICAgIHZhciBjb21wb25lbnQgPSB0aGlzLmdldFVuZGVybHlpbmdQb3RlbmNpYWxEcmFnZ2FibGVDb21wb25lbnQodG8pOwoKICAgICAgaWYgKCFjb21wb25lbnQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29tcG9uZW50OiBjb21wb25lbnQKICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgbGlzdCA9IGNvbXBvbmVudC5yZWFsTGlzdDsKICAgICAgdmFyIGNvbnRleHQgPSB7CiAgICAgICAgbGlzdDogbGlzdCwKICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudAogICAgICB9OwoKICAgICAgaWYgKHRvICE9PSByZWxhdGVkICYmIGxpc3QgJiYgY29tcG9uZW50LmdldFVuZGVybHlpbmdWbSkgewogICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGNvbXBvbmVudC5nZXRVbmRlcmx5aW5nVm0ocmVsYXRlZCk7CgogICAgICAgIGlmIChkZXN0aW5hdGlvbikgewogICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZGVzdGluYXRpb24sIGNvbnRleHQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGNvbnRleHQ7CiAgICB9LAogICAgZ2V0Vm1JbmRleDogZnVuY3Rpb24gZ2V0Vm1JbmRleChkb21JbmRleCkgewogICAgICB2YXIgaW5kZXhlcyA9IHRoaXMudmlzaWJsZUluZGV4ZXM7CiAgICAgIHZhciBudW1iZXJJbmRleGVzID0gaW5kZXhlcy5sZW5ndGg7CiAgICAgIHJldHVybiBkb21JbmRleCA+IG51bWJlckluZGV4ZXMgLSAxID8gbnVtYmVySW5kZXhlcyA6IGluZGV4ZXNbZG9tSW5kZXhdOwogICAgfSwKICAgIGdldENvbXBvbmVudDogZnVuY3Rpb24gZ2V0Q29tcG9uZW50KCkgewogICAgICByZXR1cm4gdGhpcy4kc2xvdHMuZGVmYXVsdFswXS5jb21wb25lbnRJbnN0YW5jZTsKICAgIH0sCiAgICByZXNldFRyYW5zaXRpb25EYXRhOiBmdW5jdGlvbiByZXNldFRyYW5zaXRpb25EYXRhKGluZGV4KSB7CiAgICAgIGlmICghdGhpcy5ub1RyYW5zaXRpb25PbkRyYWcgfHwgIXRoaXMudHJhbnNpdGlvbk1vZGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBub2RlcyA9IHRoaXMuZ2V0Q2hpbGRyZW5Ob2RlcygpOwogICAgICBub2Rlc1tpbmRleF0uZGF0YSA9IG51bGw7CiAgICAgIHZhciB0cmFuc2l0aW9uQ29udGFpbmVyID0gdGhpcy5nZXRDb21wb25lbnQoKTsKICAgICAgdHJhbnNpdGlvbkNvbnRhaW5lci5jaGlsZHJlbiA9IFtdOwogICAgICB0cmFuc2l0aW9uQ29udGFpbmVyLmtlcHQgPSB1bmRlZmluZWQ7CiAgICB9LAogICAgb25EcmFnU3RhcnQ6IGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2dCkgewogICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmdldFVuZGVybHlpbmdWbShldnQuaXRlbSk7CiAgICAgIGV2dC5pdGVtLl91bmRlcmx5aW5nX3ZtXyA9IHRoaXMuY2xvbmUodGhpcy5jb250ZXh0LmVsZW1lbnQpOwogICAgICBkcmFnZ2luZ0VsZW1lbnQgPSBldnQuaXRlbTsKICAgIH0sCiAgICBvbkRyYWdBZGQ6IGZ1bmN0aW9uIG9uRHJhZ0FkZChldnQpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBldnQuaXRlbS5fdW5kZXJseWluZ192bV87CgogICAgICBpZiAoZWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICByZW1vdmVOb2RlKGV2dC5pdGVtKTsKICAgICAgdmFyIG5ld0luZGV4ID0gdGhpcy5nZXRWbUluZGV4KGV2dC5uZXdJbmRleCk7CiAgICAgIHRoaXMuc3BsaWNlTGlzdChuZXdJbmRleCwgMCwgZWxlbWVudCk7CiAgICAgIHRoaXMuY29tcHV0ZUluZGV4ZXMoKTsKICAgICAgdmFyIGFkZGVkID0gewogICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsCiAgICAgICAgbmV3SW5kZXg6IG5ld0luZGV4CiAgICAgIH07CiAgICAgIHRoaXMuZW1pdENoYW5nZXMoewogICAgICAgIGFkZGVkOiBhZGRlZAogICAgICB9KTsKICAgIH0sCiAgICBvbkRyYWdSZW1vdmU6IGZ1bmN0aW9uIG9uRHJhZ1JlbW92ZShldnQpIHsKICAgICAgaW5zZXJ0Tm9kZUF0KHRoaXMucm9vdENvbnRhaW5lciwgZXZ0Lml0ZW0sIGV2dC5vbGRJbmRleCk7CgogICAgICBpZiAoZXZ0LnB1bGxNb2RlID09PSAiY2xvbmUiKSB7CiAgICAgICAgcmVtb3ZlTm9kZShldnQuY2xvbmUpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIG9sZEluZGV4ID0gdGhpcy5jb250ZXh0LmluZGV4OwogICAgICB0aGlzLnNwbGljZUxpc3Qob2xkSW5kZXgsIDEpOwogICAgICB2YXIgcmVtb3ZlZCA9IHsKICAgICAgICBlbGVtZW50OiB0aGlzLmNvbnRleHQuZWxlbWVudCwKICAgICAgICBvbGRJbmRleDogb2xkSW5kZXgKICAgICAgfTsKICAgICAgdGhpcy5yZXNldFRyYW5zaXRpb25EYXRhKG9sZEluZGV4KTsKICAgICAgdGhpcy5lbWl0Q2hhbmdlcyh7CiAgICAgICAgcmVtb3ZlZDogcmVtb3ZlZAogICAgICB9KTsKICAgIH0sCiAgICBvbkRyYWdVcGRhdGU6IGZ1bmN0aW9uIG9uRHJhZ1VwZGF0ZShldnQpIHsKICAgICAgcmVtb3ZlTm9kZShldnQuaXRlbSk7CiAgICAgIGluc2VydE5vZGVBdChldnQuZnJvbSwgZXZ0Lml0ZW0sIGV2dC5vbGRJbmRleCk7CiAgICAgIHZhciBvbGRJbmRleCA9IHRoaXMuY29udGV4dC5pbmRleDsKICAgICAgdmFyIG5ld0luZGV4ID0gdGhpcy5nZXRWbUluZGV4KGV2dC5uZXdJbmRleCk7CiAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24ob2xkSW5kZXgsIG5ld0luZGV4KTsKICAgICAgdmFyIG1vdmVkID0gewogICAgICAgIGVsZW1lbnQ6IHRoaXMuY29udGV4dC5lbGVtZW50LAogICAgICAgIG9sZEluZGV4OiBvbGRJbmRleCwKICAgICAgICBuZXdJbmRleDogbmV3SW5kZXgKICAgICAgfTsKICAgICAgdGhpcy5lbWl0Q2hhbmdlcyh7CiAgICAgICAgbW92ZWQ6IG1vdmVkCiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVByb3BlcnR5OiBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0eShldnQsIHByb3BlcnR5TmFtZSkgewogICAgICBldnQuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSAmJiAoZXZ0W3Byb3BlcnR5TmFtZV0gKz0gdGhpcy5oZWFkZXJPZmZzZXQpOwogICAgfSwKICAgIGNvbXB1dGVGdXR1cmVJbmRleDogZnVuY3Rpb24gY29tcHV0ZUZ1dHVyZUluZGV4KHJlbGF0ZWRDb250ZXh0LCBldnQpIHsKICAgICAgaWYgKCFyZWxhdGVkQ29udGV4dC5lbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KCiAgICAgIHZhciBkb21DaGlsZHJlbiA9IF90b0NvbnN1bWFibGVBcnJheShldnQudG8uY2hpbGRyZW4pLmZpbHRlcihmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuc3R5bGVbImRpc3BsYXkiXSAhPT0gIm5vbmUiOwogICAgICB9KTsKCiAgICAgIHZhciBjdXJyZW50RE9NSW5kZXggPSBkb21DaGlsZHJlbi5pbmRleE9mKGV2dC5yZWxhdGVkKTsKICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHJlbGF0ZWRDb250ZXh0LmNvbXBvbmVudC5nZXRWbUluZGV4KGN1cnJlbnRET01JbmRleCk7CiAgICAgIHZhciBkcmFnZ2VkSW5MaXN0ID0gZG9tQ2hpbGRyZW4uaW5kZXhPZihkcmFnZ2luZ0VsZW1lbnQpICE9PSAtMTsKICAgICAgcmV0dXJuIGRyYWdnZWRJbkxpc3QgfHwgIWV2dC53aWxsSW5zZXJ0QWZ0ZXIgPyBjdXJyZW50SW5kZXggOiBjdXJyZW50SW5kZXggKyAxOwogICAgfSwKICAgIG9uRHJhZ01vdmU6IGZ1bmN0aW9uIG9uRHJhZ01vdmUoZXZ0LCBvcmlnaW5hbEV2ZW50KSB7CiAgICAgIHZhciBvbk1vdmUgPSB0aGlzLm1vdmU7CgogICAgICBpZiAoIW9uTW92ZSB8fCAhdGhpcy5yZWFsTGlzdCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICB2YXIgcmVsYXRlZENvbnRleHQgPSB0aGlzLmdldFJlbGF0ZWRDb250ZXh0RnJvbU1vdmVFdmVudChldnQpOwogICAgICB2YXIgZHJhZ2dlZENvbnRleHQgPSB0aGlzLmNvbnRleHQ7CiAgICAgIHZhciBmdXR1cmVJbmRleCA9IHRoaXMuY29tcHV0ZUZ1dHVyZUluZGV4KHJlbGF0ZWRDb250ZXh0LCBldnQpOwogICAgICBPYmplY3QuYXNzaWduKGRyYWdnZWRDb250ZXh0LCB7CiAgICAgICAgZnV0dXJlSW5kZXg6IGZ1dHVyZUluZGV4CiAgICAgIH0pOwogICAgICB2YXIgc2VuZEV2dCA9IE9iamVjdC5hc3NpZ24oe30sIGV2dCwgewogICAgICAgIHJlbGF0ZWRDb250ZXh0OiByZWxhdGVkQ29udGV4dCwKICAgICAgICBkcmFnZ2VkQ29udGV4dDogZHJhZ2dlZENvbnRleHQKICAgICAgfSk7CiAgICAgIHJldHVybiBvbk1vdmUoc2VuZEV2dCwgb3JpZ2luYWxFdmVudCk7CiAgICB9LAogICAgb25EcmFnRW5kOiBmdW5jdGlvbiBvbkRyYWdFbmQoKSB7CiAgICAgIHRoaXMuY29tcHV0ZUluZGV4ZXMoKTsKICAgICAgZHJhZ2dpbmdFbGVtZW50ID0gbnVsbDsKICAgIH0KICB9Cn07CgppZiAodHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgJiYgIlZ1ZSIgaW4gd2luZG93KSB7CiAgd2luZG93LlZ1ZS5jb21wb25lbnQoImRyYWdnYWJsZSIsIGRyYWdnYWJsZUNvbXBvbmVudCk7Cn0KCmV4cG9ydCBkZWZhdWx0IGRyYWdnYWJsZUNvbXBvbmVudDs="},null]}
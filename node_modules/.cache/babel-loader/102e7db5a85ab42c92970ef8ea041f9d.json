{"remainingRequest":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/thread-loader/dist/cjs.js!/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/babel-loader/lib/index.js!/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/vuetify/lib/components/VAutocomplete/VAutocomplete.js","dependencies":[{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/vuetify/lib/components/VAutocomplete/VAutocomplete.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvcWl1c2h1bnF1bi9EZXNrdG9wL1x1NUMwNFx1N0JBRFx1NUMwOFx1Njg0OC9HaXRIdWIvMTdzb29vby8xN3Nvb29vL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8gU3R5bGVzCmltcG9ydCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVkF1dG9jb21wbGV0ZS9WQXV0b2NvbXBsZXRlLnNhc3MiOyAvLyBFeHRlbnNpb25zCgppbXBvcnQgVlNlbGVjdCwgeyBkZWZhdWx0TWVudVByb3BzIGFzIFZTZWxlY3RNZW51UHJvcHMgfSBmcm9tICcuLi9WU2VsZWN0L1ZTZWxlY3QnOwppbXBvcnQgVlRleHRGaWVsZCBmcm9tICcuLi9WVGV4dEZpZWxkL1ZUZXh0RmllbGQnOyAvLyBVdGlsaXRpZXMKCmltcG9ydCBtZXJnZURhdGEgZnJvbSAnLi4vLi4vdXRpbC9tZXJnZURhdGEnOwppbXBvcnQgeyBnZXRPYmplY3RWYWx1ZUJ5UGF0aCwgZ2V0UHJvcGVydHlGcm9tSXRlbSwga2V5Q29kZXMgfSBmcm9tICcuLi8uLi91dGlsL2hlbHBlcnMnOwoKdmFyIGRlZmF1bHRNZW51UHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIFZTZWxlY3RNZW51UHJvcHMpLCB7fSwgewogIG9mZnNldFk6IHRydWUsCiAgb2Zmc2V0T3ZlcmZsb3c6IHRydWUsCiAgdHJhbnNpdGlvbjogZmFsc2UKfSk7Ci8qIEB2dWUvY29tcG9uZW50ICovCgoKZXhwb3J0IGRlZmF1bHQgVlNlbGVjdC5leHRlbmQoewogIG5hbWU6ICd2LWF1dG9jb21wbGV0ZScsCiAgcHJvcHM6IHsKICAgIGFsbG93T3ZlcmZsb3c6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGF1dG9TZWxlY3RGaXJzdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGZpbHRlcjogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoaXRlbSwgcXVlcnlUZXh0LCBpdGVtVGV4dCkgewogICAgICAgIHJldHVybiBpdGVtVGV4dC50b0xvY2FsZUxvd2VyQ2FzZSgpLmluZGV4T2YocXVlcnlUZXh0LnRvTG9jYWxlTG93ZXJDYXNlKCkpID4gLTE7CiAgICAgIH0KICAgIH0sCiAgICBoaWRlTm9EYXRhOiBCb29sZWFuLAogICAgbWVudVByb3BzOiB7CiAgICAgIHR5cGU6IFZTZWxlY3Qub3B0aW9ucy5wcm9wcy5tZW51UHJvcHMudHlwZSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRNZW51UHJvcHM7CiAgICAgIH0KICAgIH0sCiAgICBub0ZpbHRlcjogQm9vbGVhbiwKICAgIHNlYXJjaElucHV0OiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhenlTZWFyY2g6IHRoaXMuc2VhcmNoSW5wdXQKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2xhc3NlczogZnVuY3Rpb24gY2xhc3NlcygpIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgVlNlbGVjdC5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSksIHt9LCB7CiAgICAgICAgJ3YtYXV0b2NvbXBsZXRlJzogdHJ1ZSwKICAgICAgICAndi1hdXRvY29tcGxldGUtLWlzLXNlbGVjdGluZy1pbmRleCc6IHRoaXMuc2VsZWN0ZWRJbmRleCA+IC0xCiAgICAgIH0pOwogICAgfSwKICAgIGNvbXB1dGVkSXRlbXM6IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkSXRlbXM7CiAgICB9LAogICAgc2VsZWN0ZWRWYWx1ZXM6IGZ1bmN0aW9uIHNlbGVjdGVkVmFsdWVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX3RoaXMuZ2V0VmFsdWUoaXRlbSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhc0Rpc3BsYXllZEl0ZW1zOiBmdW5jdGlvbiBoYXNEaXNwbGF5ZWRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5oaWRlU2VsZWN0ZWQgPyB0aGlzLmZpbHRlcmVkSXRlbXMuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhX3RoaXMyLmhhc0l0ZW0oaXRlbSk7CiAgICAgIH0pIDogdGhpcy5maWx0ZXJlZEl0ZW1zLmxlbmd0aCA+IDA7CiAgICB9LAogICAgY3VycmVudFJhbmdlOiBmdW5jdGlvbiBjdXJyZW50UmFuZ2UoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbSA9PSBudWxsKSByZXR1cm4gMDsKICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLmdldFRleHQodGhpcy5zZWxlY3RlZEl0ZW0pKS5sZW5ndGg7CiAgICB9LAogICAgZmlsdGVyZWRJdGVtczogZnVuY3Rpb24gZmlsdGVyZWRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaXNTZWFyY2hpbmcgfHwgdGhpcy5ub0ZpbHRlciB8fCB0aGlzLmludGVybmFsU2VhcmNoID09IG51bGwpIHJldHVybiB0aGlzLmFsbEl0ZW1zOwogICAgICByZXR1cm4gdGhpcy5hbGxJdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgdmFsdWUgPSBnZXRQcm9wZXJ0eUZyb21JdGVtKGl0ZW0sIF90aGlzMy5pdGVtVGV4dCk7CiAgICAgICAgdmFyIHRleHQgPSB2YWx1ZSAhPSBudWxsID8gU3RyaW5nKHZhbHVlKSA6ICcnOwogICAgICAgIHJldHVybiBfdGhpczMuZmlsdGVyKGl0ZW0sIFN0cmluZyhfdGhpczMuaW50ZXJuYWxTZWFyY2gpLCB0ZXh0KTsKICAgICAgfSk7CiAgICB9LAogICAgaW50ZXJuYWxTZWFyY2g6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubGF6eVNlYXJjaDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7CiAgICAgICAgLy8gZW1pdCB1cGRhdGUgZXZlbnQgb25seSB3aGVuIHRoZSBuZXcKICAgICAgICAvLyBzZWFyY2ggdmFsdWUgaXMgZGlmZmVyZW50IGZyb20gcHJldmlvdXMKICAgICAgICBpZiAodGhpcy5sYXp5U2VhcmNoICE9PSB2YWwpIHsKICAgICAgICAgIHRoaXMubGF6eVNlYXJjaCA9IHZhbDsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzZWFyY2gtaW5wdXQnLCB2YWwpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGlzQW55VmFsdWVBbGxvd2VkOiBmdW5jdGlvbiBpc0FueVZhbHVlQWxsb3dlZCgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGlzRGlydHk6IGZ1bmN0aW9uIGlzRGlydHkoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlYXJjaElzRGlydHkgfHwgdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDA7CiAgICB9LAogICAgaXNTZWFyY2hpbmc6IGZ1bmN0aW9uIGlzU2VhcmNoaW5nKCkgewogICAgICByZXR1cm4gdGhpcy5tdWx0aXBsZSAmJiB0aGlzLnNlYXJjaElzRGlydHkgfHwgdGhpcy5zZWFyY2hJc0RpcnR5ICYmIHRoaXMuaW50ZXJuYWxTZWFyY2ggIT09IHRoaXMuZ2V0VGV4dCh0aGlzLnNlbGVjdGVkSXRlbSk7CiAgICB9LAogICAgbWVudUNhblNob3c6IGZ1bmN0aW9uIG1lbnVDYW5TaG93KCkgewogICAgICBpZiAoIXRoaXMuaXNGb2N1c2VkKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0aGlzLmhhc0Rpc3BsYXllZEl0ZW1zIHx8ICF0aGlzLmhpZGVOb0RhdGE7CiAgICB9LAogICAgJF9tZW51UHJvcHM6IGZ1bmN0aW9uICRfbWVudVByb3BzKCkgewogICAgICB2YXIgcHJvcHMgPSBWU2VsZWN0Lm9wdGlvbnMuY29tcHV0ZWQuJF9tZW51UHJvcHMuY2FsbCh0aGlzKTsKICAgICAgcHJvcHMuY29udGVudENsYXNzID0gInYtYXV0b2NvbXBsZXRlX19jb250ZW50ICIuY29uY2F0KHByb3BzLmNvbnRlbnRDbGFzcyB8fCAnJykudHJpbSgpOwogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0TWVudVByb3BzKSwgcHJvcHMpOwogICAgfSwKICAgIHNlYXJjaElzRGlydHk6IGZ1bmN0aW9uIHNlYXJjaElzRGlydHkoKSB7CiAgICAgIHJldHVybiB0aGlzLmludGVybmFsU2VhcmNoICE9IG51bGwgJiYgdGhpcy5pbnRlcm5hbFNlYXJjaCAhPT0gJyc7CiAgICB9LAogICAgc2VsZWN0ZWRJdGVtOiBmdW5jdGlvbiBzZWxlY3RlZEl0ZW0oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHJldHVybiBudWxsOwogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZEl0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LnZhbHVlQ29tcGFyYXRvcihfdGhpczQuZ2V0VmFsdWUoaSksIF90aGlzNC5nZXRWYWx1ZShfdGhpczQuaW50ZXJuYWxWYWx1ZSkpOwogICAgICB9KTsKICAgIH0sCiAgICBsaXN0RGF0YTogZnVuY3Rpb24gbGlzdERhdGEoKSB7CiAgICAgIHZhciBkYXRhID0gVlNlbGVjdC5vcHRpb25zLmNvbXB1dGVkLmxpc3REYXRhLmNhbGwodGhpcyk7CiAgICAgIGRhdGEucHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRhdGEucHJvcHMpLCB7fSwgewogICAgICAgIGl0ZW1zOiB0aGlzLnZpcnR1YWxpemVkSXRlbXMsCiAgICAgICAgbm9GaWx0ZXI6IHRoaXMubm9GaWx0ZXIgfHwgIXRoaXMuaXNTZWFyY2hpbmcgfHwgIXRoaXMuZmlsdGVyZWRJdGVtcy5sZW5ndGgsCiAgICAgICAgc2VhcmNoSW5wdXQ6IHRoaXMuaW50ZXJuYWxTZWFyY2gKICAgICAgfSk7CiAgICAgIHJldHVybiBkYXRhOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGZpbHRlcmVkSXRlbXM6ICdvbkZpbHRlcmVkSXRlbXNDaGFuZ2VkJywKICAgIGludGVybmFsVmFsdWU6ICdzZXRTZWFyY2gnLAogICAgaXNGb2N1c2VkOiBmdW5jdGlvbiBpc0ZvY3VzZWQodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb3B5JywgdGhpcy5vbkNvcHkpOwogICAgICAgIHRoaXMuJHJlZnMuaW5wdXQgJiYgdGhpcy4kcmVmcy5pbnB1dC5zZWxlY3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5JywgdGhpcy5vbkNvcHkpOwogICAgICAgIHRoaXMuYmx1cigpOwogICAgICAgIHRoaXMudXBkYXRlU2VsZigpOwogICAgICB9CiAgICB9LAogICAgaXNNZW51QWN0aXZlOiBmdW5jdGlvbiBpc01lbnVBY3RpdmUodmFsKSB7CiAgICAgIGlmICh2YWwgfHwgIXRoaXMuaGFzU2xvdCkgcmV0dXJuOwogICAgICB0aGlzLmxhenlTZWFyY2ggPSBudWxsOwogICAgfSwKICAgIGl0ZW1zOiBmdW5jdGlvbiBpdGVtcyh2YWwsIG9sZFZhbCkgewogICAgICAvLyBJZiB3ZSBhcmUgZm9jdXNlZCwgdGhlIG1lbnUKICAgICAgLy8gaXMgbm90IGFjdGl2ZSwgaGlkZSBubyBkYXRhIGlzIGVuYWJsZWQsCiAgICAgIC8vIGFuZCBpdGVtcyBjaGFuZ2UKICAgICAgLy8gVXNlciBpcyBwcm9iYWJseSBhc3luYyBsb2FkaW5nCiAgICAgIC8vIGl0ZW1zLCB0cnkgdG8gYWN0aXZhdGUgdGhlIG1lbnUKICAgICAgaWYgKCEob2xkVmFsICYmIG9sZFZhbC5sZW5ndGgpICYmIHRoaXMuaGlkZU5vRGF0YSAmJiB0aGlzLmlzRm9jdXNlZCAmJiAhdGhpcy5pc01lbnVBY3RpdmUgJiYgdmFsLmxlbmd0aCkgdGhpcy5hY3RpdmF0ZU1lbnUoKTsKICAgIH0sCiAgICBzZWFyY2hJbnB1dDogZnVuY3Rpb24gc2VhcmNoSW5wdXQodmFsKSB7CiAgICAgIHRoaXMubGF6eVNlYXJjaCA9IHZhbDsKICAgIH0sCiAgICBpbnRlcm5hbFNlYXJjaDogJ29uSW50ZXJuYWxTZWFyY2hDaGFuZ2VkJywKICAgIGl0ZW1UZXh0OiAndXBkYXRlU2VsZicKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFNlYXJjaCgpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5JywgdGhpcy5vbkNvcHkpOwogIH0sCiAgbWV0aG9kczogewogICAgb25GaWx0ZXJlZEl0ZW1zQ2hhbmdlZDogZnVuY3Rpb24gb25GaWx0ZXJlZEl0ZW1zQ2hhbmdlZCh2YWwsIG9sZFZhbCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIC8vIFRPRE86IEhvdyBpcyB0aGUgd2F0Y2hlciB0cmlnZ2VyZWQKICAgICAgLy8gZm9yIGR1cGxpY2F0ZSBpdGVtcz8gbm8gaWRlYQogICAgICBpZiAodmFsID09PSBvbGRWYWwpIHJldHVybjsKICAgICAgdGhpcy5zZXRNZW51SW5kZXgoLTEpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFfdGhpczUuaW50ZXJuYWxTZWFyY2ggfHwgdmFsLmxlbmd0aCAhPT0gMSAmJiAhX3RoaXM1LmF1dG9TZWxlY3RGaXJzdCkgcmV0dXJuOwoKICAgICAgICBfdGhpczUuJHJlZnMubWVudS5nZXRUaWxlcygpOwoKICAgICAgICBfdGhpczUuc2V0TWVudUluZGV4KDApOwogICAgICB9KTsKICAgIH0sCiAgICBvbkludGVybmFsU2VhcmNoQ2hhbmdlZDogZnVuY3Rpb24gb25JbnRlcm5hbFNlYXJjaENoYW5nZWQoKSB7CiAgICAgIHRoaXMudXBkYXRlTWVudURpbWVuc2lvbnMoKTsKICAgIH0sCiAgICB1cGRhdGVNZW51RGltZW5zaW9uczogZnVuY3Rpb24gdXBkYXRlTWVudURpbWVuc2lvbnMoKSB7CiAgICAgIC8vIFR5cGUgZnJvbSBtZW51YWJsZSBpcyBub3QgbWFraW5nIGl0IHRocm91Z2gKICAgICAgdGhpcy5pc01lbnVBY3RpdmUgJiYgdGhpcy4kcmVmcy5tZW51ICYmIHRoaXMuJHJlZnMubWVudS51cGRhdGVEaW1lbnNpb25zKCk7CiAgICB9LAogICAgY2hhbmdlU2VsZWN0ZWRJbmRleDogZnVuY3Rpb24gY2hhbmdlU2VsZWN0ZWRJbmRleChrZXlDb2RlKSB7CiAgICAgIC8vIERvIG5vdCBhbGxvdyBjaGFuZ2luZyBvZiBzZWxlY3RlZEluZGV4CiAgICAgIC8vIHdoZW4gc2VhcmNoIGlzIGRpcnR5CiAgICAgIGlmICh0aGlzLnNlYXJjaElzRGlydHkpIHJldHVybjsKCiAgICAgIGlmICh0aGlzLm11bHRpcGxlICYmIGtleUNvZGUgPT09IGtleUNvZGVzLmxlZnQpIHsKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID09PSAtMSkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCAtIDE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleC0tOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLm11bHRpcGxlICYmIGtleUNvZGUgPT09IGtleUNvZGVzLnJpZ2h0KSB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJbmRleCA+PSB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoIC0gMSkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCsrOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBrZXlDb2Rlcy5iYWNrc3BhY2UgfHwga2V5Q29kZSA9PT0ga2V5Q29kZXMuZGVsZXRlKSB7CiAgICAgICAgdGhpcy5kZWxldGVDdXJyZW50SXRlbSgpOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlQ3VycmVudEl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUN1cnJlbnRJdGVtKCkgewogICAgICB2YXIgY3VySW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXg7CiAgICAgIHZhciBjdXJJdGVtID0gdGhpcy5zZWxlY3RlZEl0ZW1zW2N1ckluZGV4XTsgLy8gRG8gbm90aGluZyBpZiBpbnB1dCBvciBpdGVtIGlzIGRpc2FibGVkCgogICAgICBpZiAoIXRoaXMuaXNJbnRlcmFjdGl2ZSB8fCB0aGlzLmdldERpc2FibGVkKGN1ckl0ZW0pKSByZXR1cm47CiAgICAgIHZhciBsYXN0SW5kZXggPSB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoIC0gMTsgLy8gU2VsZWN0IHRoZSBsYXN0IGl0ZW0gaWYKICAgICAgLy8gdGhlcmUgaXMgbm8gc2VsZWN0aW9uCgogICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID09PSAtMSAmJiBsYXN0SW5kZXggIT09IDApIHsKICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBsYXN0SW5kZXg7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgbGVuZ3RoID0gdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aDsKICAgICAgdmFyIG5leHRJbmRleCA9IGN1ckluZGV4ICE9PSBsZW5ndGggLSAxID8gY3VySW5kZXggOiBjdXJJbmRleCAtIDE7CiAgICAgIHZhciBuZXh0SXRlbSA9IHRoaXMuc2VsZWN0ZWRJdGVtc1tuZXh0SW5kZXhdOwoKICAgICAgaWYgKCFuZXh0SXRlbSkgewogICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5tdWx0aXBsZSA/IFtdIDogbnVsbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RJdGVtKGN1ckl0ZW0pOwogICAgICB9CgogICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBuZXh0SW5kZXg7CiAgICB9LAogICAgY2xlYXJhYmxlQ2FsbGJhY2s6IGZ1bmN0aW9uIGNsZWFyYWJsZUNhbGxiYWNrKCkgewogICAgICB0aGlzLmludGVybmFsU2VhcmNoID0gbnVsbDsKICAgICAgVlNlbGVjdC5vcHRpb25zLm1ldGhvZHMuY2xlYXJhYmxlQ2FsbGJhY2suY2FsbCh0aGlzKTsKICAgIH0sCiAgICBnZW5JbnB1dDogZnVuY3Rpb24gZ2VuSW5wdXQoKSB7CiAgICAgIHZhciBpbnB1dCA9IFZUZXh0RmllbGQub3B0aW9ucy5tZXRob2RzLmdlbklucHV0LmNhbGwodGhpcyk7CiAgICAgIGlucHV0LmRhdGEgPSBtZXJnZURhdGEoaW5wdXQuZGF0YSwgewogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAnYXJpYS1hY3RpdmVkZXNjZW5kYW50JzogZ2V0T2JqZWN0VmFsdWVCeVBhdGgodGhpcy4kcmVmcy5tZW51LCAnYWN0aXZlVGlsZS5pZCcpLAogICAgICAgICAgYXV0b2NvbXBsZXRlOiBnZXRPYmplY3RWYWx1ZUJ5UGF0aChpbnB1dC5kYXRhLCAnYXR0cnMuYXV0b2NvbXBsZXRlJywgJ29mZicpCiAgICAgICAgfSwKICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgdmFsdWU6IHRoaXMuaW50ZXJuYWxTZWFyY2gKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gaW5wdXQ7CiAgICB9LAogICAgZ2VuSW5wdXRTbG90OiBmdW5jdGlvbiBnZW5JbnB1dFNsb3QoKSB7CiAgICAgIHZhciBzbG90ID0gVlNlbGVjdC5vcHRpb25zLm1ldGhvZHMuZ2VuSW5wdXRTbG90LmNhbGwodGhpcyk7CiAgICAgIHNsb3QuZGF0YS5hdHRycy5yb2xlID0gJ2NvbWJvYm94JzsKICAgICAgcmV0dXJuIHNsb3Q7CiAgICB9LAogICAgZ2VuU2VsZWN0aW9uczogZnVuY3Rpb24gZ2VuU2VsZWN0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuaGFzU2xvdCB8fCB0aGlzLm11bHRpcGxlID8gVlNlbGVjdC5vcHRpb25zLm1ldGhvZHMuZ2VuU2VsZWN0aW9ucy5jYWxsKHRoaXMpIDogW107CiAgICB9LAogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7CiAgICAgIGlmICghdGhpcy5pc0ludGVyYWN0aXZlKSByZXR1cm47CiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA+IC0xID8gdGhpcy5zZWxlY3RlZEluZGV4ID0gLTEgOiB0aGlzLm9uRm9jdXMoKTsKICAgICAgaWYgKCF0aGlzLmlzQXBwZW5kSW5uZXIoZS50YXJnZXQpKSB0aGlzLmFjdGl2YXRlTWVudSgpOwogICAgfSwKICAgIG9uSW5wdXQ6IGZ1bmN0aW9uIG9uSW5wdXQoZSkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID4gLTEgfHwgIWUudGFyZ2V0KSByZXR1cm47CiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKICAgICAgdmFyIHZhbHVlID0gdGFyZ2V0LnZhbHVlOyAvLyBJZiB0eXBpbmcgYW5kIG1lbnUgaXMgbm90IGN1cnJlbnRseSBhY3RpdmUKCiAgICAgIGlmICh0YXJnZXQudmFsdWUpIHRoaXMuYWN0aXZhdGVNZW51KCk7CiAgICAgIHRoaXMuaW50ZXJuYWxTZWFyY2ggPSB2YWx1ZTsKICAgICAgdGhpcy5iYWRJbnB1dCA9IHRhcmdldC52YWxpZGl0eSAmJiB0YXJnZXQudmFsaWRpdHkuYmFkSW5wdXQ7CiAgICB9LAogICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkgewogICAgICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZTsKCiAgICAgIGlmIChlLmN0cmxLZXkgfHwgIVtrZXlDb2Rlcy5ob21lLCBrZXlDb2Rlcy5lbmRdLmluY2x1ZGVzKGtleUNvZGUpKSB7CiAgICAgICAgVlNlbGVjdC5vcHRpb25zLm1ldGhvZHMub25LZXlEb3duLmNhbGwodGhpcywgZSk7CiAgICAgIH0gLy8gVGhlIG9yZGVyaW5nIGlzIGltcG9ydGFudCBoZXJlCiAgICAgIC8vIGFsbG93cyBuZXcgdmFsdWUgdG8gYmUgdXBkYXRlZAogICAgICAvLyBhbmQgdGhlbiBtb3ZlcyB0aGUgaW5kZXggdG8gdGhlCiAgICAgIC8vIHByb3BlciBsb2NhdGlvbgoKCiAgICAgIHRoaXMuY2hhbmdlU2VsZWN0ZWRJbmRleChrZXlDb2RlKTsKICAgIH0sCiAgICBvblNwYWNlRG93bjogZnVuY3Rpb24gb25TcGFjZURvd24oZSkge30sCiAgICBvblRhYkRvd246IGZ1bmN0aW9uIG9uVGFiRG93bihlKSB7CiAgICAgIFZTZWxlY3Qub3B0aW9ucy5tZXRob2RzLm9uVGFiRG93bi5jYWxsKHRoaXMsIGUpOwogICAgICB0aGlzLnVwZGF0ZVNlbGYoKTsKICAgIH0sCiAgICBvblVwRG93bjogZnVuY3Rpb24gb25VcERvd24oZSkgewogICAgICAvLyBQcmV2ZW50IHNjcmVlbiBmcm9tIHNjcm9sbGluZwogICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIEZvciBhdXRvY29tcGxldGUgLyBjb21ib2JveCwgY3ljbGluZwogICAgICAvLyBpbnRlcmZlcnMgd2l0aCBuYXRpdmUgdXAvZG93biBiZWhhdmlvcgogICAgICAvLyBpbnN0ZWFkIGFjdGl2YXRlIHRoZSBtZW51CgogICAgICB0aGlzLmFjdGl2YXRlTWVudSgpOwogICAgfSwKICAgIHNlbGVjdEl0ZW06IGZ1bmN0aW9uIHNlbGVjdEl0ZW0oaXRlbSkgewogICAgICBWU2VsZWN0Lm9wdGlvbnMubWV0aG9kcy5zZWxlY3RJdGVtLmNhbGwodGhpcywgaXRlbSk7CiAgICAgIHRoaXMuc2V0U2VhcmNoKCk7CiAgICB9LAogICAgc2V0U2VsZWN0ZWRJdGVtczogZnVuY3Rpb24gc2V0U2VsZWN0ZWRJdGVtcygpIHsKICAgICAgVlNlbGVjdC5vcHRpb25zLm1ldGhvZHMuc2V0U2VsZWN0ZWRJdGVtcy5jYWxsKHRoaXMpOyAvLyAjNDI3MyBEb24ndCByZXBsYWNlIGlmIHNlYXJjaGluZwogICAgICAvLyAjNDQwMyBEb24ndCByZXBsYWNlIGlmIGZvY3VzZWQKCiAgICAgIGlmICghdGhpcy5pc0ZvY3VzZWQpIHRoaXMuc2V0U2VhcmNoKCk7CiAgICB9LAogICAgc2V0U2VhcmNoOiBmdW5jdGlvbiBzZXRTZWFyY2goKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy8gV2FpdCBmb3IgbmV4dFRpY2sgc28gc2VsZWN0ZWRJdGVtCiAgICAgIC8vIGhhcyBoYWQgdGltZSB0byB1cGRhdGUKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghX3RoaXM2Lm11bHRpcGxlIHx8ICFfdGhpczYuaW50ZXJuYWxTZWFyY2ggfHwgIV90aGlzNi5pc01lbnVBY3RpdmUpIHsKICAgICAgICAgIF90aGlzNi5pbnRlcm5hbFNlYXJjaCA9ICFfdGhpczYuc2VsZWN0ZWRJdGVtcy5sZW5ndGggfHwgX3RoaXM2Lm11bHRpcGxlIHx8IF90aGlzNi5oYXNTbG90ID8gbnVsbCA6IF90aGlzNi5nZXRUZXh0KF90aGlzNi5zZWxlY3RlZEl0ZW0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlU2VsZjogZnVuY3Rpb24gdXBkYXRlU2VsZigpIHsKICAgICAgaWYgKCF0aGlzLnNlYXJjaElzRGlydHkgJiYgIXRoaXMuaW50ZXJuYWxWYWx1ZSkgcmV0dXJuOwoKICAgICAgaWYgKCF0aGlzLm11bHRpcGxlICYmICF0aGlzLnZhbHVlQ29tcGFyYXRvcih0aGlzLmludGVybmFsU2VhcmNoLCB0aGlzLmdldFZhbHVlKHRoaXMuaW50ZXJuYWxWYWx1ZSkpKSB7CiAgICAgICAgdGhpcy5zZXRTZWFyY2goKTsKICAgICAgfQogICAgfSwKICAgIGhhc0l0ZW06IGZ1bmN0aW9uIGhhc0l0ZW0oaXRlbSkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFZhbHVlcy5pbmRleE9mKHRoaXMuZ2V0VmFsdWUoaXRlbSkpID4gLTE7CiAgICB9LAogICAgb25Db3B5OiBmdW5jdGlvbiBvbkNvcHkoZXZlbnQpIHsKICAgICAgdmFyIF9ldmVudCRjbGlwYm9hcmREYXRhLCBfZXZlbnQkY2xpcGJvYXJkRGF0YTI7CgogICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID09PSAtMSkgcmV0dXJuOwogICAgICB2YXIgY3VycmVudEl0ZW0gPSB0aGlzLnNlbGVjdGVkSXRlbXNbdGhpcy5zZWxlY3RlZEluZGV4XTsKICAgICAgdmFyIGN1cnJlbnRJdGVtVGV4dCA9IHRoaXMuZ2V0VGV4dChjdXJyZW50SXRlbSk7CiAgICAgIChfZXZlbnQkY2xpcGJvYXJkRGF0YSA9IGV2ZW50LmNsaXBib2FyZERhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfZXZlbnQkY2xpcGJvYXJkRGF0YS5zZXREYXRhKCd0ZXh0L3BsYWluJywgY3VycmVudEl0ZW1UZXh0KTsKICAgICAgKF9ldmVudCRjbGlwYm9hcmREYXRhMiA9IGV2ZW50LmNsaXBib2FyZERhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfZXZlbnQkY2xpcGJvYXJkRGF0YTIuc2V0RGF0YSgndGV4dC92bmQudnVldGlmeS5hdXRvY29tcGxldGUuaXRlbStwbGFpbicsIGN1cnJlbnRJdGVtVGV4dCk7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CiAgfQp9KTs="},null]}
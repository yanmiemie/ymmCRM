{"remainingRequest":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/babel-loader/lib/index.js!/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/eslint-loader/index.js??ref--13-0!/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/src/utils/container/dropHandlers.js","dependencies":[{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/src/utils/container/dropHandlers.js","mtime":1634663364000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0IHsgYWRkQ2hpbGRBdCwgcmVtb3ZlQ2hpbGRBdCB9IGZyb20gJy4vY2hpbGRyZW4nOwpleHBvcnQgZnVuY3Rpb24gZG9tRHJvcEhhbmRsZXIoX3JlZikgewogIHZhciBlbGVtZW50ID0gX3JlZi5lbGVtZW50LAogICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzOwogIHJldHVybiBmdW5jdGlvbiAoZHJvcFJlc3VsdCwgb25Ecm9wKSB7CiAgICB2YXIgcmVtb3ZlZEluZGV4ID0gZHJvcFJlc3VsdC5yZW1vdmVkSW5kZXgsCiAgICAgICAgYWRkZWRJbmRleCA9IGRyb3BSZXN1bHQuYWRkZWRJbmRleCwKICAgICAgICBkcm9wcGVkRWxlbWVudCA9IGRyb3BSZXN1bHQuZHJvcHBlZEVsZW1lbnQ7CiAgICB2YXIgcmVtb3ZlZFdyYXBwZXIgPSBudWxsOwoKICAgIGlmIChyZW1vdmVkSW5kZXggIT09IG51bGwpIHsKICAgICAgcmVtb3ZlZFdyYXBwZXIgPSByZW1vdmVDaGlsZEF0KGVsZW1lbnQsIHJlbW92ZWRJbmRleCk7CiAgICAgIGRyYWdnYWJsZXMuc3BsaWNlKHJlbW92ZWRJbmRleCwgMSk7CiAgICB9CgogICAgaWYgKGFkZGVkSW5kZXggIT09IG51bGwpIHsKICAgICAgdmFyIHdyYXBwZXIgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ2RuZHJvcC1kcmFnZ2FibGUtd3JhcHBlcic7CiAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQocmVtb3ZlZFdyYXBwZXIgJiYgcmVtb3ZlZFdyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQgPyByZW1vdmVkV3JhcHBlci5maXJzdEVsZW1lbnRDaGlsZCA6IGRyb3BwZWRFbGVtZW50KTsKICAgICAgYWRkQ2hpbGRBdChlbGVtZW50LCB3cmFwcGVyLCBhZGRlZEluZGV4KTsKCiAgICAgIGlmIChhZGRlZEluZGV4ID49IGRyYWdnYWJsZXMubGVuZ3RoKSB7CiAgICAgICAgZHJhZ2dhYmxlcy5wdXNoKHdyYXBwZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIGRyYWdnYWJsZXMuc3BsaWNlKGFkZGVkSW5kZXgsIDAsIHdyYXBwZXIpOwogICAgICB9CiAgICB9CgogICAgaWYgKG9uRHJvcCkgewogICAgICBvbkRyb3AoZHJvcFJlc3VsdCk7CiAgICB9CiAgfTsKfQpleHBvcnQgZnVuY3Rpb24gcmVhY3REcm9wSGFuZGxlcigpIHsKICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGRyb3BSZXN1bHQsIG9uRHJvcCkgewogICAgICBpZiAob25Ecm9wKSB7CiAgICAgICAgb25Ecm9wKGRyb3BSZXN1bHQpOwogICAgICB9CiAgICB9OwogIH07CgogIHJldHVybiB7CiAgICBoYW5kbGVyOiBoYW5kbGVyCiAgfTsKfQ=="},{"version":3,"sources":["/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/src/utils/container/dropHandlers.js"],"names":["addChildAt","removeChildAt","domDropHandler","element","draggables","dropResult","onDrop","removedIndex","addedIndex","droppedElement","removedWrapper","splice","wrapper","window","document","createElement","className","appendChild","firstElementChild","length","push","reactDropHandler","handler"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,aAArB,QAA0C,YAA1C;AAEA,OAAO,SAASC,cAAT,OAAkD;AAAA,MAAvBC,OAAuB,QAAvBA,OAAuB;AAAA,MAAdC,UAAc,QAAdA,UAAc;AACvD,SAAO,UAACC,UAAD,EAAaC,MAAb,EAAwB;AAAA,QACrBC,YADqB,GACwBF,UADxB,CACrBE,YADqB;AAAA,QACPC,UADO,GACwBH,UADxB,CACPG,UADO;AAAA,QACKC,cADL,GACwBJ,UADxB,CACKI,cADL;AAE7B,QAAIC,cAAc,GAAG,IAArB;;AACA,QAAIH,YAAY,KAAK,IAArB,EAA2B;AACzBG,MAAAA,cAAc,GAAGT,aAAa,CAACE,OAAD,EAAUI,YAAV,CAA9B;AACAH,MAAAA,UAAU,CAACO,MAAX,CAAkBJ,YAAlB,EAAgC,CAAhC;AACD;;AAED,QAAIC,UAAU,KAAK,IAAnB,EAAyB;AACvB,UAAMI,OAAO,GAAGC,MAAM,CAACC,QAAP,CAAgBC,aAAhB,CAA8B,KAA9B,CAAhB;AACAH,MAAAA,OAAO,CAACI,SAAR,GAAoB,0BAApB;AACAJ,MAAAA,OAAO,CAACK,WAAR,CACEP,cAAc,IAAIA,cAAc,CAACQ,iBAAjC,GACIR,cAAc,CAACQ,iBADnB,GAEIT,cAHN;AAKAT,MAAAA,UAAU,CAACG,OAAD,EAAUS,OAAV,EAAmBJ,UAAnB,CAAV;;AACA,UAAIA,UAAU,IAAIJ,UAAU,CAACe,MAA7B,EAAqC;AACnCf,QAAAA,UAAU,CAACgB,IAAX,CAAgBR,OAAhB;AACD,OAFD,MAEO;AACLR,QAAAA,UAAU,CAACO,MAAX,CAAkBH,UAAlB,EAA8B,CAA9B,EAAiCI,OAAjC;AACD;AACF;;AAED,QAAIN,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACD,UAAD,CAAN;AACD;AACF,GA3BD;AA4BD;AAED,OAAO,SAASgB,gBAAT,GAA6B;AAClC,MAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB,WAAO,UAACjB,UAAD,EAAaC,MAAb,EAAwB;AAC7B,UAAIA,MAAJ,EAAY;AACVA,QAAAA,MAAM,CAACD,UAAD,CAAN;AACD;AACF,KAJD;AAKD,GAND;;AAQA,SAAO;AACLiB,IAAAA,OAAO,EAAPA;AADK,GAAP;AAGD","sourcesContent":["import { addChildAt, removeChildAt } from './children';\n\nexport function domDropHandler ({ element, draggables }) {\n  return (dropResult, onDrop) => {\n    const { removedIndex, addedIndex, droppedElement } = dropResult;\n    let removedWrapper = null;\n    if (removedIndex !== null) {\n      removedWrapper = removeChildAt(element, removedIndex);\n      draggables.splice(removedIndex, 1);\n    }\n\n    if (addedIndex !== null) {\n      const wrapper = window.document.createElement('div');\n      wrapper.className = 'dndrop-draggable-wrapper';\n      wrapper.appendChild(\n        removedWrapper && removedWrapper.firstElementChild\n          ? removedWrapper.firstElementChild\n          : droppedElement\n      );\n      addChildAt(element, wrapper, addedIndex);\n      if (addedIndex >= draggables.length) {\n        draggables.push(wrapper);\n      } else {\n        draggables.splice(addedIndex, 0, wrapper);\n      }\n    }\n\n    if (onDrop) {\n      onDrop(dropResult);\n    }\n  };\n}\n\nexport function reactDropHandler () {\n  const handler = () => {\n    return (dropResult, onDrop) => {\n      if (onDrop) {\n        onDrop(dropResult);\n      }\n    };\n  };\n\n  return {\n    handler,\n  };\n}\n"]}]}